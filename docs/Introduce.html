<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Cao Xuân Lộc">
<meta name="dcterms.date" content="2024-10-06">
<meta name="description" content="Đây là bài viết của tôi về cách sử dụng R trong việc lập kế hoạch MRP cho quản lý chuỗi cung ứng">

<title>Cao Xuân Lộc - Giới thiệu</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<style>

      .quarto-title-block .quarto-title-banner h1,
      .quarto-title-block .quarto-title-banner h2,
      .quarto-title-block .quarto-title-banner h3,
      .quarto-title-block .quarto-title-banner h4,
      .quarto-title-block .quarto-title-banner h5,
      .quarto-title-block .quarto-title-banner h6
      {
        color: white;
      }

      .quarto-title-block .quarto-title-banner {
        color: white;
background-image: url(img/background.jpg);
background-size: cover;
      }
</style>
<link href="site_libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="site_libs/htmlwidgets-1.6.4/htmlwidgets.js"></script>
<script src="site_libs/viz-1.8.2/viz.js"></script>
<link href="site_libs/DiagrammeR-styles-0.2/styles.css" rel="stylesheet">
<script src="site_libs/grViz-binding-1.0.11/grViz.js"></script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Cao Xuân Lộc</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./Introduce.html" rel="" target="" aria-current="page">
 <span class="menu-text">Introduction</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./Time.html" rel="" target="">
 <span class="menu-text">Time to set MRP</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./MRP.html" rel="" target="">
 <span class="menu-text">Practice in R</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <div class="quarto-title-block"><div><h1 class="title">Giới thiệu</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
            <p class="subtitle lead">Việt Nam, 2024</p>
                  <div>
        <div class="description">
          Đây là bài viết của tôi về cách sử dụng R trong việc lập kế hoạch MRP cho quản lý chuỗi cung ứng
        </div>
      </div>
                          <div class="quarto-categories">
                <div class="quarto-category">SupplyChainManagement</div>
                <div class="quarto-category">MRP</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Cao Xuân Lộc </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">October 6, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#giới-thiệu" id="toc-giới-thiệu" class="nav-link active" data-scroll-target="#giới-thiệu"><span class="header-section-number">1</span> Giới thiệu:</a></li>
  <li><a href="#material-requirement-planning" id="toc-material-requirement-planning" class="nav-link" data-scroll-target="#material-requirement-planning"><span class="header-section-number">2</span> Material requirement planning:</a>
  <ul class="collapse">
  <li><a href="#định-nghĩa" id="toc-định-nghĩa" class="nav-link" data-scroll-target="#định-nghĩa"><span class="header-section-number">2.1</span> Định nghĩa:</a></li>
  <li><a href="#lý-do-sử-dụng" id="toc-lý-do-sử-dụng" class="nav-link" data-scroll-target="#lý-do-sử-dụng"><span class="header-section-number">2.2</span> Lý do sử dụng:</a></li>
  </ul></li>
  <li><a href="#cách-xây-dựng-mrp" id="toc-cách-xây-dựng-mrp" class="nav-link" data-scroll-target="#cách-xây-dựng-mrp"><span class="header-section-number">3</span> Cách xây dựng MRP:</a>
  <ul class="collapse">
  <li><a href="#bom-là-gì" id="toc-bom-là-gì" class="nav-link" data-scroll-target="#bom-là-gì"><span class="header-section-number">3.1</span> BOM là gì:</a></li>
  <li><a href="#khó-khăn-trong-thực-tế" id="toc-khó-khăn-trong-thực-tế" class="nav-link" data-scroll-target="#khó-khăn-trong-thực-tế"><span class="header-section-number">3.2</span> Khó khăn trong thực tế:</a></li>
  <li><a href="#công-thức-tính" id="toc-công-thức-tính" class="nav-link" data-scroll-target="#công-thức-tính"><span class="header-section-number">3.3</span> Công thức tính:</a>
  <ul class="collapse">
  <li><a href="#predicted-demand" id="toc-predicted-demand" class="nav-link" data-scroll-target="#predicted-demand"><span class="header-section-number">3.3.1</span> Predicted demand</a></li>
  <li><a href="#gross-requirement" id="toc-gross-requirement" class="nav-link" data-scroll-target="#gross-requirement"><span class="header-section-number">3.3.2</span> Gross requirement</a></li>
  <li><a href="#scheduled-receipts" id="toc-scheduled-receipts" class="nav-link" data-scroll-target="#scheduled-receipts"><span class="header-section-number">3.3.3</span> Scheduled Receipts</a></li>
  <li><a href="#on-hand-inventory" id="toc-on-hand-inventory" class="nav-link" data-scroll-target="#on-hand-inventory"><span class="header-section-number">3.3.4</span> On-Hand Inventory</a></li>
  <li><a href="#net-requirements" id="toc-net-requirements" class="nav-link" data-scroll-target="#net-requirements"><span class="header-section-number">3.3.5</span> Net Requirements:</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="giới-thiệu" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Giới thiệu:</h1>
<p>Hôm nay chúng ta sẽ học về một hoạt động quan trọng trong các hoạt động quản lí chuỗi cung ứng - <strong>Material Requirement Planning</strong>.</p>
<p>Nhắc lại bài cũ, từ nghiên cứu của <span class="citation" data-cites="nataliaszozda2013">(<a href="#ref-nataliaszozda2013" role="doc-biblioref">Natalia Szozda and Sylwia Werbińska-Wojciechowska2 2013</a>)</span>, ta đã học về một <em>function</em> quan trọng là <a href="https://loccx78vn.github.io/Forecasting_time_series/">Demand planning</a> và cách sử dụng R để dự đoán được nhu cầu của khách hàng trong tương lai. Vậy sau khi đã có số liệu dự đoán, ta sẽ bắt đầu xây dựng <strong>kế hoạch phân phối</strong> nhằm đảm bảo đủ lượng hàng hóa trưng bày bán cho khách hàng ở các cửa hàng, trung tâm thương mại, siêu thị,…</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/planning.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Hình 1: Tổng quan các hoạt động quan trọng trong Supply Chain Management</figcaption>
</figure>
</div>
<p>Vậy hàng hóa lấy ở đâu để phân phối ? Hàng hóa thường sẽ lấy từ nhà kho gần nhất để giảm chi phí vận chuyển. Nhưng nếu hàng hóa ở kho không đủ thì ta cần gửi yêu cầu cho phòng <strong>Production (Sản xuất)</strong> để họ lên kế hoạch sản xuất ra hàng hóa mới bù vào khoảng thiếu hụt. Sau khi đã xác định kế hoạch rõ ràng, phòng <strong>Production (Sản xuất)</strong> sẽ gửi yêu cầu cho phòng <strong>Procument (Thu mua)</strong> để mua các nguyên vật liệu cần thiết cho việc sản xuất.</p>
<p>Bạn có thể thấy quy trình làm việc phức tạp phải không ? Nhưng quy trình này chỉ bao gồm các hoạt động của việc quản lí chuỗi cung ứng của <strong>1 sản phẩm duy nhất</strong>. Thông thường, các công ty sẽ có vài chục đến hàng trăm sản phẩm khác nhau. Ví dụ như công ty đa quốc gia <strong>Unilever</strong> có đến 400 nhãn hàng và mỗi nhãn hàng trung bình sẽ có 10-20 sản phẩm nên bạn có thể tưởng tượng được mức độ phức tạp và dày đặc của những kế hoạch sản xuất, phân phối hằng tuần hằng tháng.</p>
<p>Vì vậy, để xử lí công việc này, các nhà chuyên gia đã đề xuất ra công cụ <strong>Material Requirement Planning</strong> và cũng là <em>keyword</em> mà chúng ta sẽ tìm hiểu và thực hành ở R trong bài viết này.</p>
</section>
<section id="material-requirement-planning" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Material requirement planning:</h1>
<section id="định-nghĩa" class="level2" data-number="2.1">
<h2 data-number="2.1" class="anchored" data-anchor-id="định-nghĩa"><span class="header-section-number">2.1</span> Định nghĩa:</h2>
<p>Về định nghĩa, theo <span class="citation" data-cites="davidessex">(<a href="#ref-davidessex" role="doc-biblioref">David Essex, n.d.</a>)</span> ,<strong>MRP</strong> có thể hiểu là kế hoạch yêu cầu vật liệu và là hệ thống tính toán các vật liệu và linh kiện cần thiết cho sản xuất. Nó bao gồm ba bước: kiểm kê hiện có, xác định vật liệu cần thêm, và lập kế hoạch sản xuất hoặc mua sắm.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/fishbowl.jpg" class="img-fluid figure-img" style="width:80.0%"></p>
<figcaption class="figure-caption">Hình 2: Phần mềm MRP Fishbowl</figcaption>
</figure>
</div>
<p>Như hình trên là ứng dụng <strong>Fishbowl</strong> - được thành lập vào năm 2001 bởi David Williams và một nhóm các nhà phát triển phần mềm tại Utah, Hoa Kỳ. Mục tiêu ban đầu của công ty là tạo ra một giải pháp phần mềm giúp các doanh nghiệp nhỏ và vừa quản lý kho và quy trình sản xuất một cách hiệu quả hơn.</p>
</section>
<section id="lý-do-sử-dụng" class="level2" data-number="2.2">
<h2 data-number="2.2" class="anchored" data-anchor-id="lý-do-sử-dụng"><span class="header-section-number">2.2</span> Lý do sử dụng:</h2>
<p><strong>MRP</strong> quan trọng vì giúp đảm bảo có đủ tồn kho đúng thời điểm với chi phí thấp nhất, cải thiện hiệu quả, linh hoạt và lợi nhuận của sản xuất. Nó nâng cao năng suất lao động, chất lượng sản phẩm và giảm chi phí. <strong>MRP</strong> cũng giúp các nhà sản xuất nhanh chóng đáp ứng nhu cầu thị trường và tránh tình trạng thiếu hàng, góp phần vào sự tăng trưởng doanh thu.</p>
<p>Thông thường, <strong>MRP</strong> sẽ kết hợp như một tính năng trong phần mềm <strong>WMS - Warehouse Management Software</strong> vì việc lên kế hoạch vật tư cần dựa vào thông tin đầu vào là hàng hóa, nguyên vật liệu tồn kho còn lại bao nhiêu để tính toán đúng số lượng vừa đủ để đặt hàng, tránh việc dư thừa, tồn kho.</p>
</section>
</section>
<section id="cách-xây-dựng-mrp" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Cách xây dựng MRP:</h1>
<p>Vậy làm sao để xây dựng một kế hoạch <strong>MRP</strong> thật tốt. Về cách tổng quát, ta sẽ có sơ đồ như dưới đây:</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Gọi thư viện DiagrammeR</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DiagrammeR)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Vẽ biểu đồ</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>DiagrammeR<span class="sc">::</span><span class="fu">grViz</span>(<span class="st">"</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="st">digraph flowchart {</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="st">  graph [layout = dot, rankdir = TB]</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="st">  node [shape = rectangle, style = filled, fillcolor = lightblue]</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a><span class="st">  // Thêm tiêu đề với màu cam</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a><span class="st">  title [label = 'Quy trình Xây dựng MRP', shape = plaintext, fontcolor = black, fontsize = 40, fontname = 'Helvetica Bold', fillcolor = orange]</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="st">  A [label = '1. Xác định mục tiêu và yêu cầu']</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a><span class="st">  B [label = '2. Tập hợp dữ liệu']</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="st">    B1 [label = '  - Thông tin sản phẩm', fillcolor = lightyellow]</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a><span class="st">    B2 [label = '  - Tồn kho hiện tại', fillcolor = lightyellow]</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="st">    B3 [label = '  - Nhu cầu sản xuất', fillcolor = lightyellow]</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a><span class="st">  C [label = '3. Lựa chọn phần mềm MRP']</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a><span class="st">  D [label = '4. Xây dựng cấu trúc BOM']</span></span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="st">  E [label = '5. Thiết lập quy trình MRP']</span></span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="st">    E1 [label = '  - Nhập dữ liệu', fillcolor = lightyellow]</span></span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a><span class="st">    E2 [label = '  - Tính toán nhu cầu', fillcolor = lightyellow]</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="st">    E3 [label = '  - Lập kế hoạch', fillcolor = lightyellow]</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="st">  F [label = '6. Tính toán yêu cầu vật liệu']</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a><span class="st">  G [label = '7. Lập kế hoạch sản xuất và mua sắm']</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a><span class="st">  H [label = '8. Thực hiện và theo dõi']</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a><span class="st">  // Kết nối tiêu đề</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a><span class="st">  { rank = same; title }</span></span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a><span class="st">  title -&gt; A</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a><span class="st">  A -&gt; B -&gt; C -&gt; D -&gt; E -&gt; F -&gt; G -&gt; H</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a><span class="st">  B -&gt; B1 [style=dashed, dir=back]</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a><span class="st">  B -&gt; B2 [style=dashed, dir=back]</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a><span class="st">  B -&gt; B3 [style=dashed, dir=back]</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a><span class="st">  E -&gt; E1 [style=dashed, dir=back]</span></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a><span class="st">  E -&gt; E2 [style=dashed, dir=back]</span></span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a><span class="st">  E -&gt; E3 [style=dashed, dir=back]</span></span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="grViz html-widget html-fill-item" id="htmlwidget-2547d29fb1ddb2de2e65" style="width:100%;height:464px;"></div>
<script type="application/json" data-for="htmlwidget-2547d29fb1ddb2de2e65">{"x":{"diagram":"\ndigraph flowchart {\n  graph [layout = dot, rankdir = TB]\n\n  node [shape = rectangle, style = filled, fillcolor = lightblue]\n  \n  // Thêm tiêu đề với màu cam\n  title [label = \"Quy trình Xây dựng MRP\", shape = plaintext, fontcolor = black, fontsize = 40, fontname = \"Helvetica Bold\", fillcolor = orange]\n\n  A [label = \"1. Xác định mục tiêu và yêu cầu\"]\n  B [label = \"2. Tập hợp dữ liệu\"]\n    B1 [label = \"  - Thông tin sản phẩm\", fillcolor = lightyellow]\n    B2 [label = \"  - Tồn kho hiện tại\", fillcolor = lightyellow]\n    B3 [label = \"  - Nhu cầu sản xuất\", fillcolor = lightyellow]\n  C [label = \"3. Lựa chọn phần mềm MRP\"]\n  D [label = \"4. Xây dựng cấu trúc BOM\"]\n  E [label = \"5. Thiết lập quy trình MRP\"]\n    E1 [label = \"  - Nhập dữ liệu\", fillcolor = lightyellow]\n    E2 [label = \"  - Tính toán nhu cầu\", fillcolor = lightyellow]\n    E3 [label = \"  - Lập kế hoạch\", fillcolor = lightyellow]\n  F [label = \"6. Tính toán yêu cầu vật liệu\"]\n  G [label = \"7. Lập kế hoạch sản xuất và mua sắm\"]\n  H [label = \"8. Thực hiện và theo dõi\"]\n\n  // Kết nối tiêu đề\n  { rank = same; title }\n  title -> A\n  A -> B -> C -> D -> E -> F -> G -> H\n  B -> B1 [style=dashed, dir=back]\n  B -> B2 [style=dashed, dir=back]\n  B -> B3 [style=dashed, dir=back]\n  E -> E1 [style=dashed, dir=back]\n  E -> E2 [style=dashed, dir=back]\n  E -> E3 [style=dashed, dir=back]\n}\n","config":{"engine":"dot","options":null}},"evals":[],"jsHooks":[]}</script>
<p>Hình 3: Các bước cần có trong việc xây dựng MRP</p>
</div>
</div>
<section id="bom-là-gì" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="bom-là-gì"><span class="header-section-number">3.1</span> BOM là gì:</h2>
<p>Trong quy trình có nhắc đến cụm từ <strong>BOM</strong> nghĩa là <strong>Bill of Material</strong> - là một tài liệu quan trọng trong sản xuất, cung cấp danh sách chi tiết các nguyên liệu, linh kiện và bộ phận cần thiết để sản xuất một sản phẩm cụ thể. Bạn có thể hình dung là để có thể tạo một chiếc bánh thì cần phải có đầy đủ các nguyên vật liệu để làm bánh từ máy xoay bột, lò nướng, bột, trứng,… và phải được chuẩn bị đầy đủ trước khi bắt tay vào làm bánh.</p>
<p><strong>BOM</strong> không chỉ liệt kê các thành phần mà còn thường bao gồm thông tin như:</p>
<ol type="1">
<li><strong>Số lượng</strong>: Số lượng của từng thành phần cần thiết.</li>
<li><strong>Mã linh kiện</strong>: Mã hoặc số nhận diện của mỗi linh kiện.</li>
<li><strong>Đơn vị đo</strong>: Đơn vị tính của từng nguyên liệu (ví dụ: kg, cái, mét).</li>
<li><strong>Cấp độ</strong>: Cấp độ của mỗi thành phần trong cấu trúc sản phẩm, giúp xác định thứ tự lắp ráp.</li>
<li><strong>Thông tin bổ sung</strong>: Có thể bao gồm thông tin về nhà cung cấp, yêu cầu chất lượng, hoặc hướng dẫn lắp ráp.</li>
</ol>
<p>Để dễ hình dung, bạn có thể xem bảng dưới đây minh họa về <strong>BOM</strong> của xe hơi.</p>
<div class="cell">
<div class="cell-output-display">

<div id="egzdsxftpa" style="padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>@import url("https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap");
#egzdsxftpa table {
  font-family: Roboto, system-ui, 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

#egzdsxftpa thead, #egzdsxftpa tbody, #egzdsxftpa tfoot, #egzdsxftpa tr, #egzdsxftpa td, #egzdsxftpa th {
  border-style: none;
}

#egzdsxftpa p {
  margin: 0;
  padding: 0;
}

#egzdsxftpa .gt_table {
  display: table;
  border-collapse: collapse;
  line-height: normal;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 12px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: 100%;
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: rgba(255, 255, 255, 0);
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 1px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#egzdsxftpa .gt_caption {
  padding-top: 4px;
  padding-bottom: 4px;
}

#egzdsxftpa .gt_title {
  color: #333333;
  font-size: 30px;
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#egzdsxftpa .gt_subtitle {
  color: #333333;
  font-size: 16px;
  font-weight: initial;
  padding-top: 3px;
  padding-bottom: 5px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#egzdsxftpa .gt_heading {
  background-color: #FFFFFF;
  text-align: left;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#egzdsxftpa .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#egzdsxftpa .gt_col_headings {
  border-top-style: solid;
  border-top-width: 3px;
  border-top-color: rgba(255, 255, 255, 0);
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: rgba(255, 255, 255, 0);
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#egzdsxftpa .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 6px;
  padding-bottom: 7px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#egzdsxftpa .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#egzdsxftpa .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#egzdsxftpa .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#egzdsxftpa .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 3px;
  border-bottom-color: rgba(255, 255, 255, 0);
  vertical-align: bottom;
  padding-top: 6px;
  padding-bottom: 6px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#egzdsxftpa .gt_spanner_row {
  border-bottom-style: hidden;
}

#egzdsxftpa .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  text-align: left;
}

#egzdsxftpa .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#egzdsxftpa .gt_from_md > :first-child {
  margin-top: 0;
}

#egzdsxftpa .gt_from_md > :last-child {
  margin-bottom: 0;
}

#egzdsxftpa .gt_row {
  padding-top: 6px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: rgba(255, 255, 255, 0);
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#egzdsxftpa .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 80%;
  font-weight: bolder;
  text-transform: uppercase;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#egzdsxftpa .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#egzdsxftpa .gt_row_group_first td {
  border-top-width: 2px;
}

#egzdsxftpa .gt_row_group_first th {
  border-top-width: 2px;
}

#egzdsxftpa .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#egzdsxftpa .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#egzdsxftpa .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#egzdsxftpa .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#egzdsxftpa .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#egzdsxftpa .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#egzdsxftpa .gt_last_grand_summary_row_top {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: double;
  border-bottom-width: 6px;
  border-bottom-color: #D3D3D3;
}

#egzdsxftpa .gt_striped {
  background-color: #F5F5F5;
}

#egzdsxftpa .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#egzdsxftpa .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#egzdsxftpa .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#egzdsxftpa .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#egzdsxftpa .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#egzdsxftpa .gt_left {
  text-align: left;
}

#egzdsxftpa .gt_center {
  text-align: center;
}

#egzdsxftpa .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#egzdsxftpa .gt_font_normal {
  font-weight: normal;
}

#egzdsxftpa .gt_font_bold {
  font-weight: bold;
}

#egzdsxftpa .gt_font_italic {
  font-style: italic;
}

#egzdsxftpa .gt_super {
  font-size: 65%;
}

#egzdsxftpa .gt_footnote_marks {
  font-size: 75%;
  vertical-align: 0.4em;
  position: initial;
}

#egzdsxftpa .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#egzdsxftpa .gt_indent_1 {
  text-indent: 5px;
}

#egzdsxftpa .gt_indent_2 {
  text-indent: 10px;
}

#egzdsxftpa .gt_indent_3 {
  text-indent: 15px;
}

#egzdsxftpa .gt_indent_4 {
  text-indent: 20px;
}

#egzdsxftpa .gt_indent_5 {
  text-indent: 25px;
}

#egzdsxftpa .katex-display {
  display: inline-flex !important;
  margin-bottom: 0.75em !important;
}

#egzdsxftpa div.Reactable > div.rt-table > div.rt-thead > div.rt-tr.rt-tr-group-header > div.rt-th-group:after {
  height: 0px !important;
}
</style>
<table class="gt_table" data-quarto-disable-processing="false" data-quarto-bootstrap="false">
  <thead>
    <tr class="gt_heading">
      <td colspan="4" class="gt_heading gt_title gt_font_normal" style="background-color: #ADD8E6; color: #000000; font-weight: bold;">Bill of Material for vehicle components</td>
    </tr>
    <tr class="gt_heading">
      <td colspan="4" class="gt_heading gt_subtitle gt_font_normal gt_bottom_border" style=""><div data-qmd-base64="TGlzdCBvZiByZXF1aXJlZCBtYXRlcmlhbHM="><div class="gt_from_md"><p>List of required materials</p>
</div></div></td>
    </tr>
    <tr class="gt_col_headings">
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="background-color: #585D63; color: #FFFFFF; font-size: 10px; font-weight: bold; border-bottom-width: 2.5px; border-bottom-style: solid; border-bottom-color: #585d63;" scope="col" id="Component Name">Component Name</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="background-color: #585D63; color: #FFFFFF; font-size: 10px; font-weight: bold; border-bottom-width: 2.5px; border-bottom-style: solid; border-bottom-color: #585d63;" scope="col" id="Quantity">Quantity</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="background-color: #585D63; color: #FFFFFF; font-size: 10px; font-weight: bold; border-bottom-width: 2.5px; border-bottom-style: solid; border-bottom-color: #585d63;" scope="col" id="Part Code">Part Code</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1" style="background-color: #585D63; color: #FFFFFF; font-size: 10px; font-weight: bold; border-bottom-width: 2.5px; border-bottom-style: solid; border-bottom-color: #585d63;" scope="col" id="Unit">Unit</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td headers="Tên_Thành_Phần" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">Khung xe</td>
<td headers="Số_Lượng" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">1</td>
<td headers="Mã_Linh_Kiện" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">FRAME-001</td>
<td headers="Đơn_Vị_Đo" class="gt_row gt_left" style="color: #00008B; background-color: #90EE90;">cái</td></tr>
    <tr><td headers="Tên_Thành_Phần" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">Động cơ</td>
<td headers="Số_Lượng" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">1</td>
<td headers="Mã_Linh_Kiện" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">ENG-001</td>
<td headers="Đơn_Vị_Đo" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #90EE90;">cái</td></tr>
    <tr><td headers="Tên_Thành_Phần" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">Hệ thống truyền động</td>
<td headers="Số_Lượng" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">1</td>
<td headers="Mã_Linh_Kiện" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">TRANS-001</td>
<td headers="Đơn_Vị_Đo" class="gt_row gt_left" style="color: #00008B; background-color: #90EE90;">cái</td></tr>
    <tr><td headers="Tên_Thành_Phần" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">Bánh xe</td>
<td headers="Số_Lượng" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">4</td>
<td headers="Mã_Linh_Kiện" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">WHEEL-001</td>
<td headers="Đơn_Vị_Đo" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #90EE90;">cái</td></tr>
    <tr><td headers="Tên_Thành_Phần" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">Hệ thống phanh</td>
<td headers="Số_Lượng" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">4</td>
<td headers="Mã_Linh_Kiện" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">BRAKE-001</td>
<td headers="Đơn_Vị_Đo" class="gt_row gt_left" style="color: #00008B; background-color: #90EE90;">cái</td></tr>
    <tr><td headers="Tên_Thành_Phần" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">Hệ thống treo</td>
<td headers="Số_Lượng" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">2 (trước), 2 (sau)</td>
<td headers="Mã_Linh_Kiện" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">SUSP-001</td>
<td headers="Đơn_Vị_Đo" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #90EE90;">cái</td></tr>
    <tr><td headers="Tên_Thành_Phần" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">Nội thất</td>
<td headers="Số_Lượng" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">1 bộ</td>
<td headers="Mã_Linh_Kiện" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">INTERIOR-001</td>
<td headers="Đơn_Vị_Đo" class="gt_row gt_left" style="color: #00008B; background-color: #F08080;">bộ</td></tr>
    <tr><td headers="Tên_Thành_Phần" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">Hệ thống điện</td>
<td headers="Số_Lượng" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">1 bộ</td>
<td headers="Mã_Linh_Kiện" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">ELECTRICAL-001</td>
<td headers="Đơn_Vị_Đo" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #F08080;">bộ</td></tr>
    <tr><td headers="Tên_Thành_Phần" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">Cửa</td>
<td headers="Số_Lượng" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">4</td>
<td headers="Mã_Linh_Kiện" class="gt_row gt_left" style="color: #00008B; background-color: #FFFFFF;">DOOR-001</td>
<td headers="Đơn_Vị_Đo" class="gt_row gt_left" style="color: #00008B; background-color: #90EE90;">cái</td></tr>
    <tr><td headers="Tên_Thành_Phần" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">Kính chắn gió</td>
<td headers="Số_Lượng" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">1</td>
<td headers="Mã_Linh_Kiện" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #FFFFFF;">WINDSHIELD-001</td>
<td headers="Đơn_Vị_Đo" class="gt_row gt_left gt_striped" style="color: #00008B; background-color: #90EE90;">cái</td></tr>
  </tbody>
  <tfoot class="gt_sourcenotes">
    <tr>
      <td class="gt_sourcenote" colspan="4">Create by package {gt} in R</td>
    </tr>
  </tfoot>
  
</table>
</div>
<p>Bảng 1: Ví dụ về BOM cho sản phẩm xe ô tô</p>
</div>
</div>
<p>Nhưng thông thường, người ta sẽ trình bày <strong>BOM</strong> dưới dạng hình cây như này, khá giống <em>Decision tree</em> - một mô hình <em>Machine Learning</em>. Vì dụ ta có quy trình làm bánh pía như sau:</p>
<p><strong>Bước 1</strong>: Chuẩn bị phần nhân:</p>
<ul>
<li>Đậu xanh: Ngâm đậu xanh qua đêm, sau đó hấp chín và xay nhuyễn.</li>
<li>Thịt heo: Nếu sử dụng, xào thịt heo với một chút gia vị cho chín. Trộn đều với đậu xanh đã xay, thêm hạt sen (nếu dùng), mứt (nếu thích) và trộn đều cho đến khi hỗn hợp mịn.</li>
<li>Chia nhân thành các phần nhỏ, viên tròn và để nguội. Nếu có trứng muối, bạn có thể đặt vào giữa viên nhân.</li>
</ul>
<p><strong>Bước 2</strong>: Chuẩn bị phần vỏ:</p>
<ul>
<li>Trộn bột mì, đường lại với nhau.</li>
<li>Từ từ thêm dầu ăn và nước vào bột, nhào cho đến khi bột mịn và không dính tay.</li>
<li>Chia bột thành các phần nhỏ tương ứng với số viên nhân.</li>
</ul>
<p><strong>Bước 3</strong>: Tạo hình bánh: - Cán mỏng từng miếng bột ra, sau đó đặt viên nhân vào giữa. - Gói kín lại và vo tròn bánh cho đẹp.</p>
<p><strong>Bước 4</strong>: Nướng bánh: - Làm nóng lò ở 180 độ C. - Đặt bánh lên khay nướng có lót giấy nến. - Nướng khoảng 20-25 phút hoặc cho đến khi bánh có màu vàng đẹp.</p>
<p><strong>Bước 5</strong>:. Hoàn thiện: - Để bánh nguội trước khi thưởng thức. Bánh pía ngon hơn khi để nguội.</p>
<p><img src="img/BOM.png" class="img-fluid" alt="Hình 4: BOM diagram of Banh Pia">{width = 80%}</p>
<p><strong>Mục tiêu:</strong> <em>giúp quản lý quy trình sản xuất hiệu quả hơn, đảm bảo rằng tất cả các nguyên liệu cần thiết đều có sẵn và đúng thời điểm, đồng thời giảm thiểu rủi ro về việc thiếu hụt nguyên liệu.</em></p>
<p>Như vậy, <strong>BOM</strong> có thể được xem là thành phần quan trọng nhất trong kế hoạch <strong>MRP</strong>.</p>
</section>
<section id="khó-khăn-trong-thực-tế" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="khó-khăn-trong-thực-tế"><span class="header-section-number">3.2</span> Khó khăn trong thực tế:</h2>
<p>Về lý thuyết xây dựng kế hoạch <strong>MRP</strong> không khó, bạn chỉ cần số liệu thực tế của kho, 1 bảng <strong>BOM</strong> như trên và dự đoán nhu cầu của khách hàng là sẽ tính toán được số lượng cần thiết nhưng thực tế bao giờ cũng khác xa với lý thuyết.</p>
<p>Theo nghiên cứu của<span class="citation" data-cites="baskaran42018">(<a href="#ref-baskaran42018" role="doc-biblioref">Baskaran4 2018</a>)</span>, tác giả đề cập đến các vấn đề thường gặp đối với <strong>MRP</strong>:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/commonproblem.png" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Hình 5: Các vấn đề thường gặp khi dùng MRP</figcaption>
</figure>
</div>
<p>Nếu bạn lười đọc, mình sẽ tóm tắt lại:</p>
<ul>
<li><p>Hệ thống <strong>MRP</strong> đòi hỏi dữ liệu đầu vào chính xác và cụ thể thì mới đưa ra kết quả ít sai lệch với thực tế.</p></li>
<li><p><strong>MRP</strong> gặp khó khăn khi đối mặt với sự thay đổi đột ngột về tồn kho, nguyên nhân có thể là do xuất hiện <strong>uncertainty demand</strong> hoặc thiếu các bảng <strong>BOM</strong>. Điều này làm cho việc lên kế hoạch trước không đạt hiệu quả cao.</p></li>
<li><p>Khi có sự thay đổi ở cấp trên, <strong>MRP</strong> sẽ phải tính toán lại toàn bộ nên điều này rất tốn thời gian và nguồn lực.</p></li>
</ul>
<p>Tuy vậy, việc ứng dụng <strong>MRP</strong> vẫn rỗng rãi vì nó thích hợp với mọi kiểu công ty, doanh nghiệp.</p>
</section>
<section id="công-thức-tính" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="công-thức-tính"><span class="header-section-number">3.3</span> Công thức tính:</h2>
<p>Vậy để xây dựng kế hoạch <strong>MRP</strong>, ta cần tính toán các tham số dưới đây:</p>




    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to Calculate the MRP</title>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
        google.charts.load('current', { packages: ['orgchart'] });
        google.charts.setOnLoadCallback(drawChart);

        function drawChart() {
            var data = new google.visualization.DataTable();
            data.addColumn('string', 'Task');
            data.addColumn('string', 'Parent');
            data.addColumn('string', 'ToolTip');
            data.addRows([
                [{ v: 'MRP', f: 'Build MRP Plan' }, '', 'Final Calculation'],
                ['Gross Requirement', 'MRP', 'Step 2: Calculate Gross Requirement'],
                ['Safety Stock', 'MRP', 'Step 1: Determine Safety Stock'],
                ['Demand Forecast', 'Safety Stock', 'Predictive Demand'],
                ['Lead Time', 'Safety Stock', 'Time to Procure'],
                ['BOM (Bill of Material)', 'Gross Requirement', 'Material Breakdown'],
                ['Scheduled Receipts', 'Gross Requirement', 'Expected Inventory'],
                ['On-Hand Inventory', 'Gross Requirement', 'Current Stock']
            ]);

            var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));
            chart.draw(data, {
                allowHtml: true,
                nodes: {
                    'MRP': { 'color': '#1E90FF' },
                    'Gross Requirement': { 'color': '#FF4500' },
                    'Safety Stock': { 'color': '#32CD32' },
                    'Demand Forecast': { 'color': '#FFD700' },
                    'Lead Time': { 'color': '#FF69B4' },
                    'BOM (Bill of Material)': { 'color': '#6A5ACD' },
                    'Scheduled Receipts': { 'color': '#00FA9A' },
                    'On-Hand Inventory': { 'color': '#FFB6C1' }
                },
                'size': 'medium',
                'allowCollapse': true
            });
        }
    </script>
    <style>
        body {
            display: flex;
            align-items: left;
            justify-content: left;
            flex-direction: column;
        }
        #chart_div {
            width: 80%;
            margin: 20px 0;
        }
    </style>



<h1>How to Calculate the MRP</h1>

<div id="chart_div"></div>



<script type="text/javascript">
    google.charts.load('current', { packages: ['orgchart'] });
    google.charts.setOnLoadCallback(drawChart);

    function drawChart() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Task');
        data.addColumn('string', 'Parent');
        data.addColumn('string', 'ToolTip');
        data.addRows([
            [{ v: 'MRP', f: '<a href="#build-mrp">Build MRP Plan</a>' }, '', 'Final Calculation'],
            [{ v: 'Gross Requirement', f: '<a href="#gross-requirement">Gross Requirement</a>' }, 'MRP', 'Step 2: Calculate Gross Requirement'],
            [{ v: 'Safety Stock', f: '<a href="#safety-stock">Safety Stock</a>' }, 'MRP', 'Step 1: Determine Safety Stock'],
            [{ v: 'Demand Forecast', f: '<a href="#predicted-demand">Demand Forecast</a>' }, 'Safety Stock', 'Predictive Demand'],
            [{ v: 'Lead Time', f: '<a href="#determine-lead-time">Lead Time</a>' }, 'Safety Stock', 'Time to Procure'],
            [{ v: 'BOM (Bill of Material)', f: '<a href="#bom">BOM (Bill of Material)</a>' }, 'Gross Requirement', 'Material Breakdown'],
            [{ v: 'Scheduled Receipts', f: '<a href="#scheduled-receipts">Scheduled Receipts</a>' }, 'Gross Requirement', 'Expected Inventory'],
            [{ v: 'On-Hand Inventory', f: '<a href="#on-hand-inventory">On-Hand Inventory</a>' }, 'Gross Requirement', 'Current Stock']
        ]);

        var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));
        chart.draw(data, {
            allowHtml: true,
            nodes: {
                'MRP': { 'color': '#1E90FF' },
                'Gross Requirement': { 'color': '#FF4500' },
                'Safety Stock': { 'color': '#32CD32' },
                'Demand Forecast': { 'color': '#FFD700' },
                'Lead Time': { 'color': '#FF69B4' },
                'BOM (Bill of Material)': { 'color': '#6A5ACD' },
                'Scheduled Receipts': { 'color': '#00FA9A' },
                'On-Hand Inventory': { 'color': '#FFB6C1' }
            },
            'size': 'medium',
            'allowCollapse': true
        });
    }
</script>
<section id="predicted-demand" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="predicted-demand"><span class="header-section-number">3.3.1</span> Predicted demand</h3>
<p>Đầu tiên, vẫn là dự đoán nhu cầu của khách hàng trong tương lai. Tùy vào kế hoạch bạn xây dựng, có thể là 1 tháng, 3 tháng hoặc 6 tháng … mà chọn. Như đã đề cập ở trên, đây là dữ liệu quan trọng làm đầu vào cho <strong>MRP</strong> và cũng là cơ sở để xác định <em>Safety stock</em>.</p>
</section>
<section id="gross-requirement" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="gross-requirement"><span class="header-section-number">3.3.2</span> Gross requirement</h3>
<p>Về định nghĩa, <em>Gross requirement</em> là tổng nhu cầu cho một vật liệu hoặc linh kiện cụ thể trong một khoảng thời gian nhất định, mà không xem xét bất kỳ tồn kho có sẵn hay các khoản thu nhập đã lên lịch.</p>
<p><span class="math display">\[
\text{Gross Requirement} = \text{Total Demand} \times \text{Component Quantity per product}
\]</span></p>
</section>
<section id="scheduled-receipts" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="scheduled-receipts"><span class="header-section-number">3.3.3</span> Scheduled Receipts</h3>
<p><em>Scheduled Receipts</em> là thuật ngữ dùng để chỉ các đơn hàng hoặc lô hàng đã được đặt và dự kiến sẽ được nhận trong một khoảng thời gian nhất định. Ví dụ bạn đang làm kế hoạch nhập vật liệu <strong>A</strong> cho tháng 9 thì trước đó bạn đã đặt hàng vật liệu <strong>A</strong> là 1000 cái thì <em>scheduled receipts</em> sẽ bằng 1000. Do đó giả sử đơn giản là bạn đang đơn hàng 2000 cái thì bạn chỉ cần đặt hàng 1000 cái nữa vào tháng 9.</p>
<p>Dữ liệu để tính toán sẽ thường lấy từ các <em>Purchase Orders</em> từ phòng thu mua hoặc <em>Orders</em> từ các nhà phân phối.</p>
</section>
<section id="on-hand-inventory" class="level3" data-number="3.3.4">
<h3 data-number="3.3.4" class="anchored" data-anchor-id="on-hand-inventory"><span class="header-section-number">3.3.4</span> On-Hand Inventory</h3>
<p><em>On-hand inventory</em> nghĩa là lượng hàng hóa còn tồn đọng trong kho, cửa hàng của bạn tại một thời điểm nào đó. Dữ liệu này dễ dàng lấy được từ các báo cáo theo ngày, theo tuần ở các cửa hàng, kho.</p>
<p><span class="math display">\[
\text{On-Hand Inventory} = \text{Tồn kho đầu kỳ} + \text{Nhập kho} - \text{Xuất kho}
\]</span></p>
</section>
<section id="net-requirements" class="level3" data-number="3.3.5">
<h3 data-number="3.3.5" class="anchored" data-anchor-id="net-requirements"><span class="header-section-number">3.3.5</span> Net Requirements:</h3>
<p><em>Net requirement</em> nghĩa là lượng hàng hóa còn thiếu để thỏa mãn hết tất cả nhu cầu trong tương lai mà mình đã dự đoán. Công thức tính cũng đơn giản như dưới đây.</p>
<p><span class="math display">\[
\text{Net Requirement} = \text{Gross Requirement}−\text{Scheduled Receipts}−\text{On-Hand Inventory}
\]</span></p>
<p>Giả sử, bạn dự đoán tháng sau có 1000 đơn hàng, bạn đã có 200 <em>On-hand inventory</em> và 300 <em>Scheduled receipt</em> vậy thì bạn chỉ cần đặt thêm nguyên vật liệu để sản xuất đủ 500 đơn hàng nữa là xong. Đó cũng chính là số lượng cần xác định trong kế hoạch <strong>MRP</strong>.</p>
<p>Tiếp theo ta sẽ tìm hiểu thêm về khái niệm <em>Safety stock</em> và <em>reorder point</em> ở trang <a href="./Time.html">Thời gian xây dựng MRP</a></p>


<!-- -->


</section>
</section>
</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-baskaran42018" class="csl-entry" role="listitem">
Baskaran4, Hairul Rizad Md Sapry1*, Lorio L’ wiey Anak Tawi 2, Abd Rahman Ahmad3, Shathees. 2018. <span>“The Effectiveness of MRP System to Forecast the Accuracy Inventory Requirement.”</span> <em>International Journal of Engineering &amp; Technology</em>.
</div>
<div id="ref-davidessex" class="csl-entry" role="listitem">
David Essex. n.d. <span>“Material Requirements Planning (MRP).”</span> <a href="https://www.techtarget.com/searcherp/definition/material-requirements-planning-MRP#:~:text=Material%20requirements%20planning%20(MRP)%20is,scheduling%20their%20production%20or%20purchase.">https://www.techtarget.com/searcherp/definition/material-requirements-planning-MRP#:~:text=Material%20requirements%20planning%20(MRP)%20is,scheduling%20their%20production%20or%20purchase.</a>
</div>
<div id="ref-nataliaszozda2013" class="csl-entry" role="listitem">
Natalia Szozda, and Sylwia Werbińska-Wojciechowska2. 2013. <span>“INFLUENCE OF THE DEMAND INFORMATION QUALITY ON PLANNING PROCESS ACCURACY IN SUPPLY CHAIN. CASE STUDIES.”</span> <em>Wroclaw University of Economics</em>. <a href="https://www.researchgate.net/profile/Sylwia-Werbinska-Wojciechowska/publication/278727555_Influence_of_the_demand_information_quality_on_planning_process_accuracy_in_supply_chain_Case_studies/links/55846c4208ae71f6ba8c4aff/Influence-of-the-demand-information-quality-on-planning-process-accuracy-in-supply-chain-Case-studies.pdf">https://www.researchgate.net/profile/Sylwia-Werbinska-Wojciechowska/publication/278727555_Influence_of_the_demand_information_quality_on_planning_process_accuracy_in_supply_chain_Case_studies/links/55846c4208ae71f6ba8c4aff/Influence-of-the-demand-information-quality-on-planning-process-accuracy-in-supply-chain-Case-studies.pdf</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb2" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Giới thiệu"</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="an">subtitle:</span><span class="co"> "Việt Nam, 2024"</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="an">categories:</span><span class="co"> ["SupplyChainManagement", "MRP"]</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="an">description:</span><span class="co"> "Đây là bài viết của tôi về cách sử dụng R trong việc lập kế hoạch MRP cho quản lý chuỗi cung ứng"</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Cao Xuân Lộc"</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="an">date:</span><span class="co"> "2024-10-06"</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="an">number-sections:</span><span class="co"> true</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="an">bibliography:</span><span class="co"> references.bib</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-banner:</span><span class="co"> img/background.jpg</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a><span class="an">title-block-banner-color:</span><span class="co"> "white"</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a><span class="fu"># Giới thiệu:</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>Hôm nay chúng ta sẽ học về một hoạt động quan trọng trong các hoạt động quản lí chuỗi cung ứng - **Material Requirement Planning**.</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>Nhắc lại bài cũ, từ nghiên cứu của <span class="co">[</span><span class="ot">@nataliaszozda2013</span><span class="co">]</span>, ta đã học về một *function* quan trọng là [Demand planning](https://loccx78vn.github.io/Forecasting_time_series/) và cách sử dụng R để dự đoán được nhu cầu của khách hàng trong tương lai. Vậy sau khi đã có số liệu dự đoán, ta sẽ bắt đầu xây dựng **kế hoạch phân phối** nhằm đảm bảo đủ lượng hàng hóa trưng bày bán cho khách hàng ở các cửa hàng, trung tâm thương mại, siêu thị,...</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a><span class="al">![Hình 1: Tổng quan các hoạt động quan trọng trong Supply Chain Management](img/planning.png)</span>{fig-align="center"}</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>Vậy hàng hóa lấy ở đâu để phân phối ? Hàng hóa thường sẽ lấy từ nhà kho gần nhất để giảm chi phí vận chuyển. Nhưng nếu hàng hóa ở kho không đủ thì ta cần gửi yêu cầu cho phòng **Production (Sản xuất)** để họ lên kế hoạch sản xuất ra hàng hóa mới bù vào khoảng thiếu hụt. Sau khi đã xác định kế hoạch rõ ràng, phòng **Production (Sản xuất)** sẽ gửi yêu cầu cho phòng **Procument (Thu mua)** để mua các nguyên vật liệu cần thiết cho việc sản xuất.</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>Bạn có thể thấy quy trình làm việc phức tạp phải không ? Nhưng quy trình này chỉ bao gồm các hoạt động của việc quản lí chuỗi cung ứng của **1 sản phẩm duy nhất**. Thông thường, các công ty sẽ có vài chục đến hàng trăm sản phẩm khác nhau. Ví dụ như công ty đa quốc gia **Unilever** có đến 400 nhãn hàng và mỗi nhãn hàng trung bình sẽ có 10-20 sản phẩm nên bạn có thể tưởng tượng được mức độ phức tạp và dày đặc của những kế hoạch sản xuất, phân phối hằng tuần hằng tháng.</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>Vì vậy, để xử lí công việc này, các nhà chuyên gia đã đề xuất ra công cụ **Material Requirement Planning** và cũng là *keyword* mà chúng ta sẽ tìm hiểu và thực hành ở R trong bài viết này.</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="fu"># Material requirement planning:</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="fu">## Định nghĩa:</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>Về định nghĩa, theo <span class="co">[</span><span class="ot">@davidessex</span><span class="co">]</span> ,**MRP** có thể hiểu là kế hoạch yêu cầu vật liệu và là hệ thống tính toán các vật liệu và linh kiện cần thiết cho sản xuất. Nó bao gồm ba bước: kiểm kê hiện có, xác định vật liệu cần thêm, và lập kế hoạch sản xuất hoặc mua sắm.</span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a><span class="al">![Hình 2: Phần mềm MRP Fishbowl](img/fishbowl.jpg)</span>{width=80%}</span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>Như hình trên là ứng dụng **Fishbowl** - được thành lập vào năm 2001 bởi David Williams và một nhóm các nhà phát triển phần mềm tại Utah, Hoa Kỳ. Mục tiêu ban đầu của công ty là tạo ra một giải pháp phần mềm giúp các doanh nghiệp nhỏ và vừa quản lý kho và quy trình sản xuất một cách hiệu quả hơn.</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a><span class="fu">## Lý do sử dụng:</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>**MRP** quan trọng vì giúp đảm bảo có đủ tồn kho đúng thời điểm với chi phí thấp nhất, cải thiện hiệu quả, linh hoạt và lợi nhuận của sản xuất. Nó nâng cao năng suất lao động, chất lượng sản phẩm và giảm chi phí. **MRP** cũng giúp các nhà sản xuất nhanh chóng đáp ứng nhu cầu thị trường và tránh tình trạng thiếu hàng, góp phần vào sự tăng trưởng doanh thu.</span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a>Thông thường, **MRP** sẽ kết hợp như một tính năng trong phần mềm **WMS - Warehouse Management Software** vì việc lên kế hoạch vật tư cần dựa vào thông tin đầu vào là hàng hóa, nguyên vật liệu tồn kho còn lại bao nhiêu để tính toán đúng số lượng vừa đủ để đặt hàng, tránh việc dư thừa, tồn kho.</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a><span class="fu"># Cách xây dựng MRP:</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>Vậy làm sao để xây dựng một kế hoạch **MRP** thật tốt. Về cách tổng quát, ta sẽ có sơ đồ như dưới đây:</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: "Hình 3: Các bước cần có trong việc xây dựng MRP"</span></span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Gọi thư viện DiagrammeR</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DiagrammeR)</span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a><span class="co"># Vẽ biểu đồ</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>DiagrammeR<span class="sc">::</span><span class="fu">grViz</span>(<span class="st">"</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a><span class="st">digraph flowchart {</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a><span class="st">  graph [layout = dot, rankdir = TB]</span></span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a><span class="st">  node [shape = rectangle, style = filled, fillcolor = lightblue]</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a><span class="st">  // Thêm tiêu đề với màu cam</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a><span class="st">  title [label = 'Quy trình Xây dựng MRP', shape = plaintext, fontcolor = black, fontsize = 40, fontname = 'Helvetica Bold', fillcolor = orange]</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a><span class="st">  A [label = '1. Xác định mục tiêu và yêu cầu']</span></span>
<span id="cb2-72"><a href="#cb2-72" aria-hidden="true" tabindex="-1"></a><span class="st">  B [label = '2. Tập hợp dữ liệu']</span></span>
<span id="cb2-73"><a href="#cb2-73" aria-hidden="true" tabindex="-1"></a><span class="st">    B1 [label = '  - Thông tin sản phẩm', fillcolor = lightyellow]</span></span>
<span id="cb2-74"><a href="#cb2-74" aria-hidden="true" tabindex="-1"></a><span class="st">    B2 [label = '  - Tồn kho hiện tại', fillcolor = lightyellow]</span></span>
<span id="cb2-75"><a href="#cb2-75" aria-hidden="true" tabindex="-1"></a><span class="st">    B3 [label = '  - Nhu cầu sản xuất', fillcolor = lightyellow]</span></span>
<span id="cb2-76"><a href="#cb2-76" aria-hidden="true" tabindex="-1"></a><span class="st">  C [label = '3. Lựa chọn phần mềm MRP']</span></span>
<span id="cb2-77"><a href="#cb2-77" aria-hidden="true" tabindex="-1"></a><span class="st">  D [label = '4. Xây dựng cấu trúc BOM']</span></span>
<span id="cb2-78"><a href="#cb2-78" aria-hidden="true" tabindex="-1"></a><span class="st">  E [label = '5. Thiết lập quy trình MRP']</span></span>
<span id="cb2-79"><a href="#cb2-79" aria-hidden="true" tabindex="-1"></a><span class="st">    E1 [label = '  - Nhập dữ liệu', fillcolor = lightyellow]</span></span>
<span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a><span class="st">    E2 [label = '  - Tính toán nhu cầu', fillcolor = lightyellow]</span></span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a><span class="st">    E3 [label = '  - Lập kế hoạch', fillcolor = lightyellow]</span></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a><span class="st">  F [label = '6. Tính toán yêu cầu vật liệu']</span></span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a><span class="st">  G [label = '7. Lập kế hoạch sản xuất và mua sắm']</span></span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a><span class="st">  H [label = '8. Thực hiện và theo dõi']</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a><span class="st">  // Kết nối tiêu đề</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a><span class="st">  { rank = same; title }</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a><span class="st">  title -&gt; A</span></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a><span class="st">  A -&gt; B -&gt; C -&gt; D -&gt; E -&gt; F -&gt; G -&gt; H</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a><span class="st">  B -&gt; B1 [style=dashed, dir=back]</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a><span class="st">  B -&gt; B2 [style=dashed, dir=back]</span></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a><span class="st">  B -&gt; B3 [style=dashed, dir=back]</span></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a><span class="st">  E -&gt; E1 [style=dashed, dir=back]</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a><span class="st">  E -&gt; E2 [style=dashed, dir=back]</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a><span class="st">  E -&gt; E3 [style=dashed, dir=back]</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a><span class="st">}</span></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a><span class="fu">## BOM là gì:</span></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>Trong quy trình có nhắc đến cụm từ **BOM** nghĩa là **Bill of Material** - là một tài liệu quan trọng trong sản xuất, cung cấp danh sách chi tiết các nguyên liệu, linh kiện và bộ phận cần thiết để sản xuất một sản phẩm cụ thể. Bạn có thể hình dung là để có thể tạo một chiếc bánh thì cần phải có đầy đủ các nguyên vật liệu để làm bánh từ máy xoay bột, lò nướng, bột, trứng,... và phải được chuẩn bị đầy đủ trước khi bắt tay vào làm bánh.</span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>**BOM** không chỉ liệt kê các thành phần mà còn thường bao gồm thông tin như:</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a><span class="ss">1.  </span>**Số lượng**: Số lượng của từng thành phần cần thiết.</span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a><span class="ss">2.  </span>**Mã linh kiện**: Mã hoặc số nhận diện của mỗi linh kiện.</span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a><span class="ss">3.  </span>**Đơn vị đo**: Đơn vị tính của từng nguyên liệu (ví dụ: kg, cái, mét).</span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a><span class="ss">4.  </span>**Cấp độ**: Cấp độ của mỗi thành phần trong cấu trúc sản phẩm, giúp xác định thứ tự lắp ráp.</span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a><span class="ss">5.  </span>**Thông tin bổ sung**: Có thể bao gồm thông tin về nhà cung cấp, yêu cầu chất lượng, hoặc hướng dẫn lắp ráp.</span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>Để dễ hình dung, bạn có thể xem bảng dưới đây minh họa về **BOM** của xe hơi.</span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-subcap: "Bảng 1: Ví dụ về BOM cho sản phẩm xe ô tô"</span></span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a><span class="co"># Cài đặt và tải gói gt nếu chưa có</span></span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a><span class="co"># install.packages("gt")</span></span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gtExtras)</span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a><span class="co"># Tạo dữ liệu cho bảng BOM</span></span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a>bom_data <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a>  Tên_Thành_Phần <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Khung xe"</span>, </span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Động cơ"</span>, </span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Hệ thống truyền động"</span>, </span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Bánh xe"</span>, </span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Hệ thống phanh"</span>, </span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Hệ thống treo"</span>, </span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Nội thất"</span>, </span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Hệ thống điện"</span>, </span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Cửa"</span>, </span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a>    <span class="st">"Kính chắn gió"</span></span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a>  Số_Lượng <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a>    <span class="st">"1"</span>, </span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a>    <span class="st">"1"</span>, </span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a>    <span class="st">"1"</span>, </span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a>    <span class="st">"4"</span>, </span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true" tabindex="-1"></a>    <span class="st">"4"</span>, </span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2 (trước), 2 (sau)"</span>, </span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a>    <span class="st">"1 bộ"</span>, </span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a>    <span class="st">"1 bộ"</span>, </span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a>    <span class="st">"4"</span>, </span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a>    <span class="st">"1"</span></span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a>  Mã_Linh_Kiện <span class="ot">=</span> <span class="fu">c</span>(</span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a>    <span class="st">"FRAME-001"</span>, </span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ENG-001"</span>, </span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a>    <span class="st">"TRANS-001"</span>, </span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WHEEL-001"</span>, </span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a>    <span class="st">"BRAKE-001"</span>, </span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a>    <span class="st">"SUSP-001"</span>, </span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a>    <span class="st">"INTERIOR-001"</span>, </span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a>    <span class="st">"ELECTRICAL-001"</span>, </span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a>    <span class="st">"DOOR-001"</span>, </span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a>    <span class="st">"WINDSHIELD-001"</span></span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a>  Đơn_Vị_Đ<span class="at">o =</span> <span class="fu">c</span>(</span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cái"</span>, </span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cái"</span>, </span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cái"</span>, </span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cái"</span>, </span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cái"</span>, </span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cái"</span>, </span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a>    <span class="st">"bộ"</span>, </span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a>    <span class="st">"bộ"</span>, </span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cái"</span>, </span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a>    <span class="st">"cái"</span></span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a>  ),</span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true" tabindex="-1"></a>  <span class="at">stringsAsFactors =</span> <span class="cn">FALSE</span> <span class="co"># Đảm bảo không chuyển đổi thành factors</span></span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-179"><a href="#cb2-179" aria-hidden="true" tabindex="-1"></a><span class="co"># Tạo bảng với gt</span></span>
<span id="cb2-180"><a href="#cb2-180" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gt)</span>
<span id="cb2-181"><a href="#cb2-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-182"><a href="#cb2-182" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a gt table</span></span>
<span id="cb2-183"><a href="#cb2-183" aria-hidden="true" tabindex="-1"></a>bom_data <span class="sc">%&gt;%</span></span>
<span id="cb2-184"><a href="#cb2-184" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt</span>() <span class="sc">%&gt;%</span></span>
<span id="cb2-185"><a href="#cb2-185" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_header</span>(</span>
<span id="cb2-186"><a href="#cb2-186" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"Bill of Material for vehicle components"</span>,</span>
<span id="cb2-187"><a href="#cb2-187" aria-hidden="true" tabindex="-1"></a>    <span class="at">subtitle =</span> <span class="fu">md</span>(<span class="st">"List of required materials"</span>)</span>
<span id="cb2-188"><a href="#cb2-188" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-189"><a href="#cb2-189" aria-hidden="true" tabindex="-1"></a>  <span class="fu">cols_label</span>(</span>
<span id="cb2-190"><a href="#cb2-190" aria-hidden="true" tabindex="-1"></a>    Tên_Thành_Phần <span class="ot">=</span> <span class="st">"Component Name"</span>,</span>
<span id="cb2-191"><a href="#cb2-191" aria-hidden="true" tabindex="-1"></a>    Số_Lượng <span class="ot">=</span> <span class="st">"Quantity"</span>,</span>
<span id="cb2-192"><a href="#cb2-192" aria-hidden="true" tabindex="-1"></a>    Mã_Linh_Kiện <span class="ot">=</span> <span class="st">"Part Code"</span>,</span>
<span id="cb2-193"><a href="#cb2-193" aria-hidden="true" tabindex="-1"></a>    Đơn_Vị_Đ<span class="at">o =</span> <span class="st">"Unit"</span></span>
<span id="cb2-194"><a href="#cb2-194" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-195"><a href="#cb2-195" aria-hidden="true" tabindex="-1"></a>  <span class="fu">fmt_number</span>(</span>
<span id="cb2-196"><a href="#cb2-196" aria-hidden="true" tabindex="-1"></a>    <span class="at">columns =</span> <span class="fu">vars</span>(Số_Lượng),</span>
<span id="cb2-197"><a href="#cb2-197" aria-hidden="true" tabindex="-1"></a>    <span class="at">decimals =</span> <span class="dv">0</span></span>
<span id="cb2-198"><a href="#cb2-198" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-199"><a href="#cb2-199" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-200"><a href="#cb2-200" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">list</span>(</span>
<span id="cb2-201"><a href="#cb2-201" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cell_fill</span>(<span class="at">color =</span> <span class="st">"lightblue"</span>),</span>
<span id="cb2-202"><a href="#cb2-202" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cell_text</span>(<span class="at">weight =</span> <span class="st">"bold"</span>, <span class="at">color =</span> <span class="st">"black"</span>)</span>
<span id="cb2-203"><a href="#cb2-203" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-204"><a href="#cb2-204" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_title</span>(<span class="at">groups =</span> <span class="st">"title"</span>)</span>
<span id="cb2-205"><a href="#cb2-205" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-206"><a href="#cb2-206" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-207"><a href="#cb2-207" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">cell_fill</span>(<span class="at">color =</span> <span class="st">"lightgrey"</span>),</span>
<span id="cb2-208"><a href="#cb2-208" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_column_labels</span>(<span class="fu">everything</span>())</span>
<span id="cb2-209"><a href="#cb2-209" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-210"><a href="#cb2-210" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-211"><a href="#cb2-211" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">list</span>(</span>
<span id="cb2-212"><a href="#cb2-212" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cell_text</span>(<span class="at">color =</span> <span class="st">"darkblue"</span>),</span>
<span id="cb2-213"><a href="#cb2-213" aria-hidden="true" tabindex="-1"></a>      <span class="fu">cell_fill</span>(<span class="at">color =</span> <span class="st">"white"</span>)</span>
<span id="cb2-214"><a href="#cb2-214" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-215"><a href="#cb2-215" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(<span class="at">columns =</span> <span class="fu">everything</span>())</span>
<span id="cb2-216"><a href="#cb2-216" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-217"><a href="#cb2-217" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add color for each unique value in the "Unit" column</span></span>
<span id="cb2-218"><a href="#cb2-218" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-219"><a href="#cb2-219" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">cell_fill</span>(<span class="at">color =</span> <span class="st">"lightgreen"</span>),</span>
<span id="cb2-220"><a href="#cb2-220" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(<span class="at">columns =</span> Đơn_Vị_Đo, <span class="at">rows =</span> Đơn_Vị_Đo <span class="sc">==</span> <span class="st">"cái"</span>)</span>
<span id="cb2-221"><a href="#cb2-221" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-222"><a href="#cb2-222" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_style</span>(</span>
<span id="cb2-223"><a href="#cb2-223" aria-hidden="true" tabindex="-1"></a>    <span class="at">style =</span> <span class="fu">cell_fill</span>(<span class="at">color =</span> <span class="st">"lightcoral"</span>),</span>
<span id="cb2-224"><a href="#cb2-224" aria-hidden="true" tabindex="-1"></a>    <span class="at">locations =</span> <span class="fu">cells_body</span>(<span class="at">columns =</span> Đơn_Vị_Đo, <span class="at">rows =</span> Đơn_Vị_Đo <span class="sc">==</span> <span class="st">"bộ"</span>)</span>
<span id="cb2-225"><a href="#cb2-225" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-226"><a href="#cb2-226" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_options</span>(</span>
<span id="cb2-227"><a href="#cb2-227" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.font.size =</span> <span class="dv">14</span>,</span>
<span id="cb2-228"><a href="#cb2-228" aria-hidden="true" tabindex="-1"></a>    <span class="at">table.width =</span> <span class="fu">pct</span>(<span class="dv">100</span>),</span>
<span id="cb2-229"><a href="#cb2-229" aria-hidden="true" tabindex="-1"></a>    <span class="at">row.striping.include_table_body =</span> <span class="cn">TRUE</span>,</span>
<span id="cb2-230"><a href="#cb2-230" aria-hidden="true" tabindex="-1"></a>    <span class="at">row.striping.background_color =</span> <span class="st">"lightyellow"</span></span>
<span id="cb2-231"><a href="#cb2-231" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb2-232"><a href="#cb2-232" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tab_source_note</span>(</span>
<span id="cb2-233"><a href="#cb2-233" aria-hidden="true" tabindex="-1"></a>    <span class="at">source_note =</span> <span class="st">"Create by package {gt} in R"</span></span>
<span id="cb2-234"><a href="#cb2-234" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb2-235"><a href="#cb2-235" aria-hidden="true" tabindex="-1"></a>  <span class="fu">gt_theme_pff</span>()</span>
<span id="cb2-236"><a href="#cb2-236" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-237"><a href="#cb2-237" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-238"><a href="#cb2-238" aria-hidden="true" tabindex="-1"></a>Nhưng thông thường, người ta sẽ trình bày **BOM** dưới dạng hình cây như này, khá giống *Decision tree* - một mô hình *Machine Learning*. Vì dụ ta có quy trình làm bánh pía như sau:</span>
<span id="cb2-239"><a href="#cb2-239" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-240"><a href="#cb2-240" aria-hidden="true" tabindex="-1"></a>**Bước 1**: Chuẩn bị phần nhân:</span>
<span id="cb2-241"><a href="#cb2-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-242"><a href="#cb2-242" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Đậu xanh: Ngâm đậu xanh qua đêm, sau đó hấp chín và xay nhuyễn.</span>
<span id="cb2-243"><a href="#cb2-243" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Thịt heo: Nếu sử dụng, xào thịt heo với một chút gia vị cho chín. Trộn đều với đậu xanh đã xay, thêm hạt sen (nếu dùng), mứt (nếu thích) và trộn đều cho đến khi hỗn hợp mịn.</span>
<span id="cb2-244"><a href="#cb2-244" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Chia nhân thành các phần nhỏ, viên tròn và để nguội. Nếu có trứng muối, bạn có thể đặt vào giữa viên nhân.</span>
<span id="cb2-245"><a href="#cb2-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-246"><a href="#cb2-246" aria-hidden="true" tabindex="-1"></a>**Bước 2**: Chuẩn bị phần vỏ:</span>
<span id="cb2-247"><a href="#cb2-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-248"><a href="#cb2-248" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Trộn bột mì, đường lại với nhau.</span>
<span id="cb2-249"><a href="#cb2-249" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Từ từ thêm dầu ăn và nước vào bột, nhào cho đến khi bột mịn và không dính tay.</span>
<span id="cb2-250"><a href="#cb2-250" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Chia bột thành các phần nhỏ tương ứng với số viên nhân.</span>
<span id="cb2-251"><a href="#cb2-251" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-252"><a href="#cb2-252" aria-hidden="true" tabindex="-1"></a>**Bước 3**: Tạo hình bánh: - Cán mỏng từng miếng bột ra, sau đó đặt viên nhân vào giữa. - Gói kín lại và vo tròn bánh cho đẹp.</span>
<span id="cb2-253"><a href="#cb2-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-254"><a href="#cb2-254" aria-hidden="true" tabindex="-1"></a>**Bước 4**: Nướng bánh: - Làm nóng lò ở 180 độ C. - Đặt bánh lên khay nướng có lót giấy nến. - Nướng khoảng 20-25 phút hoặc cho đến khi bánh có màu vàng đẹp.</span>
<span id="cb2-255"><a href="#cb2-255" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-256"><a href="#cb2-256" aria-hidden="true" tabindex="-1"></a>**Bước 5**:. Hoàn thiện: - Để bánh nguội trước khi thưởng thức. Bánh pía ngon hơn khi để nguội.</span>
<span id="cb2-257"><a href="#cb2-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-260"><a href="#cb2-260" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb2-261"><a href="#cb2-261" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb2-262"><a href="#cb2-262" aria-hidden="true" tabindex="-1"></a><span class="co">#| message: false</span></span>
<span id="cb2-263"><a href="#cb2-263" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb2-264"><a href="#cb2-264" aria-hidden="true" tabindex="-1"></a><span class="co">#| output: false</span></span>
<span id="cb2-265"><a href="#cb2-265" aria-hidden="true" tabindex="-1"></a><span class="co"># Install and load the DiagrammeR library</span></span>
<span id="cb2-266"><a href="#cb2-266" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(DiagrammeR)</span>
<span id="cb2-267"><a href="#cb2-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-268"><a href="#cb2-268" aria-hidden="true" tabindex="-1"></a><span class="fu">grViz</span>(<span class="st">"</span></span>
<span id="cb2-269"><a href="#cb2-269" aria-hidden="true" tabindex="-1"></a><span class="st">  digraph {</span></span>
<span id="cb2-270"><a href="#cb2-270" aria-hidden="true" tabindex="-1"></a><span class="st">    layout = dot</span></span>
<span id="cb2-271"><a href="#cb2-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-272"><a href="#cb2-272" aria-hidden="true" tabindex="-1"></a><span class="st">    node [shape = box, style=filled, fontname=Helvetica, width=2, color = orange]</span></span>
<span id="cb2-273"><a href="#cb2-273" aria-hidden="true" tabindex="-1"></a><span class="st">    edge [color = grey, arrowhead = vee]</span></span>
<span id="cb2-274"><a href="#cb2-274" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-275"><a href="#cb2-275" aria-hidden="true" tabindex="-1"></a><span class="st">    A[label = 'Bánh Pía:</span><span class="sc">\n</span><span class="st">1 cái', color = '#FFD700', fontcolor = black]</span></span>
<span id="cb2-276"><a href="#cb2-276" aria-hidden="true" tabindex="-1"></a><span class="st">    B[label = 'Hạt sen</span><span class="sc">\n</span><span class="st"> = 20g']</span></span>
<span id="cb2-277"><a href="#cb2-277" aria-hidden="true" tabindex="-1"></a><span class="st">    C[label = 'Mứt</span><span class="sc">\n</span><span class="st"> = 10g']</span></span>
<span id="cb2-278"><a href="#cb2-278" aria-hidden="true" tabindex="-1"></a><span class="st">    D[label = 'Lót giấy nến: 1 cái']</span></span>
<span id="cb2-279"><a href="#cb2-279" aria-hidden="true" tabindex="-1"></a><span class="st">    E[label = 'Phần vỏ:</span><span class="sc">\n</span><span class="st">1 cái']</span></span>
<span id="cb2-280"><a href="#cb2-280" aria-hidden="true" tabindex="-1"></a><span class="st">    F[label = 'Bột mì</span><span class="sc">\n</span><span class="st">= 150g']</span></span>
<span id="cb2-281"><a href="#cb2-281" aria-hidden="true" tabindex="-1"></a><span class="st">    G[label = 'Dầu ăn</span><span class="sc">\n</span><span class="st">= 30g']</span></span>
<span id="cb2-282"><a href="#cb2-282" aria-hidden="true" tabindex="-1"></a><span class="st">    H[label = 'Nước</span><span class="sc">\n</span><span class="st">= 60ml']</span></span>
<span id="cb2-283"><a href="#cb2-283" aria-hidden="true" tabindex="-1"></a><span class="st">    J[label = 'Phần nhân:</span><span class="sc">\n</span><span class="st">1 cái']</span></span>
<span id="cb2-284"><a href="#cb2-284" aria-hidden="true" tabindex="-1"></a><span class="st">    K[label = 'Trứng muối</span><span class="sc">\n</span><span class="st">= 1 quả']</span></span>
<span id="cb2-285"><a href="#cb2-285" aria-hidden="true" tabindex="-1"></a><span class="st">    L[label = 'Thịt heo</span><span class="sc">\n</span><span class="st">= 30g']  </span></span>
<span id="cb2-286"><a href="#cb2-286" aria-hidden="true" tabindex="-1"></a><span class="st">    Q[label = 'Đậu xanh</span><span class="sc">\n</span><span class="st">= 100g']</span></span>
<span id="cb2-287"><a href="#cb2-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-288"><a href="#cb2-288" aria-hidden="true" tabindex="-1"></a><span class="st">    Step1[label = 'B1: Chuẩn bị NVL</span><span class="sc">\n</span><span class="st">Time: 15 phút', color = lightblue]</span></span>
<span id="cb2-289"><a href="#cb2-289" aria-hidden="true" tabindex="-1"></a><span class="st">    Step2[label = 'B2: Làm phần vỏ</span><span class="sc">\n</span><span class="st">Time: 30 phút', color = lightblue]</span></span>
<span id="cb2-290"><a href="#cb2-290" aria-hidden="true" tabindex="-1"></a><span class="st">    Step3[label = 'B3: Làm phần nhân</span><span class="sc">\n</span><span class="st">Time: 20 phút', color = lightblue]</span></span>
<span id="cb2-291"><a href="#cb2-291" aria-hidden="true" tabindex="-1"></a><span class="st">    Step4[label = 'B4: Gói bánh</span><span class="sc">\n</span><span class="st">Time: 10 phút', color = lightblue]</span></span>
<span id="cb2-292"><a href="#cb2-292" aria-hidden="true" tabindex="-1"></a><span class="st">    Step5[label = 'B5: Hấp bánh</span><span class="sc">\n</span><span class="st">Time: 45 phút', color = lightblue]</span></span>
<span id="cb2-293"><a href="#cb2-293" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-294"><a href="#cb2-294" aria-hidden="true" tabindex="-1"></a><span class="st">    A -&gt; B</span></span>
<span id="cb2-295"><a href="#cb2-295" aria-hidden="true" tabindex="-1"></a><span class="st">    A -&gt; C</span></span>
<span id="cb2-296"><a href="#cb2-296" aria-hidden="true" tabindex="-1"></a><span class="st">    B -&gt; D</span></span>
<span id="cb2-297"><a href="#cb2-297" aria-hidden="true" tabindex="-1"></a><span class="st">    C -&gt; D</span></span>
<span id="cb2-298"><a href="#cb2-298" aria-hidden="true" tabindex="-1"></a><span class="st">    D -&gt; E</span></span>
<span id="cb2-299"><a href="#cb2-299" aria-hidden="true" tabindex="-1"></a><span class="st">    D -&gt; J</span></span>
<span id="cb2-300"><a href="#cb2-300" aria-hidden="true" tabindex="-1"></a><span class="st">    E -&gt; F</span></span>
<span id="cb2-301"><a href="#cb2-301" aria-hidden="true" tabindex="-1"></a><span class="st">    E -&gt; G</span></span>
<span id="cb2-302"><a href="#cb2-302" aria-hidden="true" tabindex="-1"></a><span class="st">    E -&gt; H</span></span>
<span id="cb2-303"><a href="#cb2-303" aria-hidden="true" tabindex="-1"></a><span class="st">    J -&gt; K</span></span>
<span id="cb2-304"><a href="#cb2-304" aria-hidden="true" tabindex="-1"></a><span class="st">    J -&gt; L</span></span>
<span id="cb2-305"><a href="#cb2-305" aria-hidden="true" tabindex="-1"></a><span class="st">    J -&gt; Q</span></span>
<span id="cb2-306"><a href="#cb2-306" aria-hidden="true" tabindex="-1"></a><span class="st">  </span></span>
<span id="cb2-307"><a href="#cb2-307" aria-hidden="true" tabindex="-1"></a><span class="st">  // Kết nối giữa các bước sản xuất với đường nét liền</span></span>
<span id="cb2-308"><a href="#cb2-308" aria-hidden="true" tabindex="-1"></a><span class="st">    Step5 -&gt; Step4 [style=solid]</span></span>
<span id="cb2-309"><a href="#cb2-309" aria-hidden="true" tabindex="-1"></a><span class="st">    Step4 -&gt; Step3 [style=solid]</span></span>
<span id="cb2-310"><a href="#cb2-310" aria-hidden="true" tabindex="-1"></a><span class="st">    Step3 -&gt; Step2 [style=solid]</span></span>
<span id="cb2-311"><a href="#cb2-311" aria-hidden="true" tabindex="-1"></a><span class="st">    Step2 -&gt; Step1 [style=solid]</span></span>
<span id="cb2-312"><a href="#cb2-312" aria-hidden="true" tabindex="-1"></a><span class="st">  }</span></span>
<span id="cb2-313"><a href="#cb2-313" aria-hidden="true" tabindex="-1"></a><span class="st">"</span>)</span>
<span id="cb2-314"><a href="#cb2-314" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-315"><a href="#cb2-315" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-316"><a href="#cb2-316" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-317"><a href="#cb2-317" aria-hidden="true" tabindex="-1"></a><span class="al">![Hình 4: BOM diagram of Banh Pia](img/BOM.png)</span>{width = 80%} </span>
<span id="cb2-318"><a href="#cb2-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-319"><a href="#cb2-319" aria-hidden="true" tabindex="-1"></a>**Mục tiêu:** *giúp quản lý quy trình sản xuất hiệu quả hơn, đảm bảo rằng tất cả các nguyên liệu cần thiết đều có sẵn và đúng thời điểm, đồng thời giảm thiểu rủi ro về việc thiếu hụt nguyên liệu.*</span>
<span id="cb2-320"><a href="#cb2-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-321"><a href="#cb2-321" aria-hidden="true" tabindex="-1"></a>Như vậy, **BOM** có thể được xem là thành phần quan trọng nhất trong kế hoạch **MRP**.</span>
<span id="cb2-322"><a href="#cb2-322" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-323"><a href="#cb2-323" aria-hidden="true" tabindex="-1"></a><span class="fu">## Khó khăn trong thực tế:</span></span>
<span id="cb2-324"><a href="#cb2-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-325"><a href="#cb2-325" aria-hidden="true" tabindex="-1"></a>Về lý thuyết xây dựng kế hoạch **MRP** không khó, bạn chỉ cần số liệu thực tế của kho, 1 bảng **BOM** như trên và dự đoán nhu cầu của khách hàng là sẽ tính toán được số lượng cần thiết nhưng thực tế bao giờ cũng khác xa với lý thuyết.</span>
<span id="cb2-326"><a href="#cb2-326" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-327"><a href="#cb2-327" aria-hidden="true" tabindex="-1"></a>Theo nghiên cứu của<span class="co">[</span><span class="ot">@baskaran42018</span><span class="co">]</span>, tác giả đề cập đến các vấn đề thường gặp đối với **MRP**:</span>
<span id="cb2-328"><a href="#cb2-328" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-329"><a href="#cb2-329" aria-hidden="true" tabindex="-1"></a><span class="al">![Hình 5: Các vấn đề thường gặp khi dùng MRP](img/commonproblem.png)</span>{fig-align="center"}</span>
<span id="cb2-330"><a href="#cb2-330" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-331"><a href="#cb2-331" aria-hidden="true" tabindex="-1"></a>Nếu bạn lười đọc, mình sẽ tóm tắt lại:</span>
<span id="cb2-332"><a href="#cb2-332" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-333"><a href="#cb2-333" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Hệ thống **MRP** đòi hỏi dữ liệu đầu vào chính xác và cụ thể thì mới đưa ra kết quả ít sai lệch với thực tế.</span>
<span id="cb2-334"><a href="#cb2-334" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-335"><a href="#cb2-335" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>**MRP** gặp khó khăn khi đối mặt với sự thay đổi đột ngột về tồn kho, nguyên nhân có thể là do xuất hiện **uncertainty demand** hoặc thiếu các bảng **BOM**. Điều này làm cho việc lên kế hoạch trước không đạt hiệu quả cao.</span>
<span id="cb2-336"><a href="#cb2-336" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-337"><a href="#cb2-337" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>Khi có sự thay đổi ở cấp trên, **MRP** sẽ phải tính toán lại toàn bộ nên điều này rất tốn thời gian và nguồn lực.</span>
<span id="cb2-338"><a href="#cb2-338" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-339"><a href="#cb2-339" aria-hidden="true" tabindex="-1"></a>Tuy vậy, việc ứng dụng **MRP** vẫn rỗng rãi vì nó thích hợp với mọi kiểu công ty, doanh nghiệp.</span>
<span id="cb2-340"><a href="#cb2-340" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-341"><a href="#cb2-341" aria-hidden="true" tabindex="-1"></a><span class="fu">## Công thức tính:</span></span>
<span id="cb2-342"><a href="#cb2-342" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-343"><a href="#cb2-343" aria-hidden="true" tabindex="-1"></a>Vậy để xây dựng kế hoạch **MRP**, ta cần tính toán các tham số dưới đây:</span>
<span id="cb2-344"><a href="#cb2-344" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-345"><a href="#cb2-345" aria-hidden="true" tabindex="-1"></a><span class="in">```{=html}</span></span>
<span id="cb2-346"><a href="#cb2-346" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;!DOCTYPE html&gt;</span></span>
<span id="cb2-347"><a href="#cb2-347" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;html lang="en"&gt;</span></span>
<span id="cb2-348"><a href="#cb2-348" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;head&gt;</span></span>
<span id="cb2-349"><a href="#cb2-349" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;meta charset="UTF-8"&gt;</span></span>
<span id="cb2-350"><a href="#cb2-350" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</span></span>
<span id="cb2-351"><a href="#cb2-351" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;title&gt;How to Calculate the MRP&lt;/title&gt;</span></span>
<span id="cb2-352"><a href="#cb2-352" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"&gt;&lt;/script&gt;</span></span>
<span id="cb2-353"><a href="#cb2-353" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;script type="text/javascript"&gt;</span></span>
<span id="cb2-354"><a href="#cb2-354" aria-hidden="true" tabindex="-1"></a><span class="in">        google.charts.load('current', { packages: ['orgchart'] });</span></span>
<span id="cb2-355"><a href="#cb2-355" aria-hidden="true" tabindex="-1"></a><span class="in">        google.charts.setOnLoadCallback(drawChart);</span></span>
<span id="cb2-356"><a href="#cb2-356" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-357"><a href="#cb2-357" aria-hidden="true" tabindex="-1"></a><span class="in">        function drawChart() {</span></span>
<span id="cb2-358"><a href="#cb2-358" aria-hidden="true" tabindex="-1"></a><span class="in">            var data = new google.visualization.DataTable();</span></span>
<span id="cb2-359"><a href="#cb2-359" aria-hidden="true" tabindex="-1"></a><span class="in">            data.addColumn('string', 'Task');</span></span>
<span id="cb2-360"><a href="#cb2-360" aria-hidden="true" tabindex="-1"></a><span class="in">            data.addColumn('string', 'Parent');</span></span>
<span id="cb2-361"><a href="#cb2-361" aria-hidden="true" tabindex="-1"></a><span class="in">            data.addColumn('string', 'ToolTip');</span></span>
<span id="cb2-362"><a href="#cb2-362" aria-hidden="true" tabindex="-1"></a><span class="in">            data.addRows([</span></span>
<span id="cb2-363"><a href="#cb2-363" aria-hidden="true" tabindex="-1"></a><span class="in">                [{ v: 'MRP', f: 'Build MRP Plan' }, '', 'Final Calculation'],</span></span>
<span id="cb2-364"><a href="#cb2-364" aria-hidden="true" tabindex="-1"></a><span class="in">                ['Gross Requirement', 'MRP', 'Step 2: Calculate Gross Requirement'],</span></span>
<span id="cb2-365"><a href="#cb2-365" aria-hidden="true" tabindex="-1"></a><span class="in">                ['Safety Stock', 'MRP', 'Step 1: Determine Safety Stock'],</span></span>
<span id="cb2-366"><a href="#cb2-366" aria-hidden="true" tabindex="-1"></a><span class="in">                ['Demand Forecast', 'Safety Stock', 'Predictive Demand'],</span></span>
<span id="cb2-367"><a href="#cb2-367" aria-hidden="true" tabindex="-1"></a><span class="in">                ['Lead Time', 'Safety Stock', 'Time to Procure'],</span></span>
<span id="cb2-368"><a href="#cb2-368" aria-hidden="true" tabindex="-1"></a><span class="in">                ['BOM (Bill of Material)', 'Gross Requirement', 'Material Breakdown'],</span></span>
<span id="cb2-369"><a href="#cb2-369" aria-hidden="true" tabindex="-1"></a><span class="in">                ['Scheduled Receipts', 'Gross Requirement', 'Expected Inventory'],</span></span>
<span id="cb2-370"><a href="#cb2-370" aria-hidden="true" tabindex="-1"></a><span class="in">                ['On-Hand Inventory', 'Gross Requirement', 'Current Stock']</span></span>
<span id="cb2-371"><a href="#cb2-371" aria-hidden="true" tabindex="-1"></a><span class="in">            ]);</span></span>
<span id="cb2-372"><a href="#cb2-372" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-373"><a href="#cb2-373" aria-hidden="true" tabindex="-1"></a><span class="in">            var chart = new google.visualization.OrgChart(document.getElementById('chart_div'));</span></span>
<span id="cb2-374"><a href="#cb2-374" aria-hidden="true" tabindex="-1"></a><span class="in">            chart.draw(data, {</span></span>
<span id="cb2-375"><a href="#cb2-375" aria-hidden="true" tabindex="-1"></a><span class="in">                allowHtml: true,</span></span>
<span id="cb2-376"><a href="#cb2-376" aria-hidden="true" tabindex="-1"></a><span class="in">                nodes: {</span></span>
<span id="cb2-377"><a href="#cb2-377" aria-hidden="true" tabindex="-1"></a><span class="in">                    'MRP': { 'color': '#1E90FF' },</span></span>
<span id="cb2-378"><a href="#cb2-378" aria-hidden="true" tabindex="-1"></a><span class="in">                    'Gross Requirement': { 'color': '#FF4500' },</span></span>
<span id="cb2-379"><a href="#cb2-379" aria-hidden="true" tabindex="-1"></a><span class="in">                    'Safety Stock': { 'color': '#32CD32' },</span></span>
<span id="cb2-380"><a href="#cb2-380" aria-hidden="true" tabindex="-1"></a><span class="in">                    'Demand Forecast': { 'color': '#FFD700' },</span></span>
<span id="cb2-381"><a href="#cb2-381" aria-hidden="true" tabindex="-1"></a><span class="in">                    'Lead Time': { 'color': '#FF69B4' },</span></span>
<span id="cb2-382"><a href="#cb2-382" aria-hidden="true" tabindex="-1"></a><span class="in">                    'BOM (Bill of Material)': { 'color': '#6A5ACD' },</span></span>
<span id="cb2-383"><a href="#cb2-383" aria-hidden="true" tabindex="-1"></a><span class="in">                    'Scheduled Receipts': { 'color': '#00FA9A' },</span></span>
<span id="cb2-384"><a href="#cb2-384" aria-hidden="true" tabindex="-1"></a><span class="in">                    'On-Hand Inventory': { 'color': '#FFB6C1' }</span></span>
<span id="cb2-385"><a href="#cb2-385" aria-hidden="true" tabindex="-1"></a><span class="in">                },</span></span>
<span id="cb2-386"><a href="#cb2-386" aria-hidden="true" tabindex="-1"></a><span class="in">                'size': 'medium',</span></span>
<span id="cb2-387"><a href="#cb2-387" aria-hidden="true" tabindex="-1"></a><span class="in">                'allowCollapse': true</span></span>
<span id="cb2-388"><a href="#cb2-388" aria-hidden="true" tabindex="-1"></a><span class="in">            });</span></span>
<span id="cb2-389"><a href="#cb2-389" aria-hidden="true" tabindex="-1"></a><span class="in">        }</span></span>
<span id="cb2-390"><a href="#cb2-390" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/script&gt;</span></span>
<span id="cb2-391"><a href="#cb2-391" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;style&gt;</span></span>
<span id="cb2-392"><a href="#cb2-392" aria-hidden="true" tabindex="-1"></a><span class="in">        body {</span></span>
<span id="cb2-393"><a href="#cb2-393" aria-hidden="true" tabindex="-1"></a><span class="in">            display: flex;</span></span>
<span id="cb2-394"><a href="#cb2-394" aria-hidden="true" tabindex="-1"></a><span class="in">            align-items: left;</span></span>
<span id="cb2-395"><a href="#cb2-395" aria-hidden="true" tabindex="-1"></a><span class="in">            justify-content: left;</span></span>
<span id="cb2-396"><a href="#cb2-396" aria-hidden="true" tabindex="-1"></a><span class="in">            flex-direction: column;</span></span>
<span id="cb2-397"><a href="#cb2-397" aria-hidden="true" tabindex="-1"></a><span class="in">        }</span></span>
<span id="cb2-398"><a href="#cb2-398" aria-hidden="true" tabindex="-1"></a><span class="in">        #chart_div {</span></span>
<span id="cb2-399"><a href="#cb2-399" aria-hidden="true" tabindex="-1"></a><span class="in">            width: 80%;</span></span>
<span id="cb2-400"><a href="#cb2-400" aria-hidden="true" tabindex="-1"></a><span class="in">            margin: 20px 0;</span></span>
<span id="cb2-401"><a href="#cb2-401" aria-hidden="true" tabindex="-1"></a><span class="in">        }</span></span>
<span id="cb2-402"><a href="#cb2-402" aria-hidden="true" tabindex="-1"></a><span class="in">    &lt;/style&gt;</span></span>
<span id="cb2-403"><a href="#cb2-403" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/head&gt;</span></span>
<span id="cb2-404"><a href="#cb2-404" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;body&gt;</span></span>
<span id="cb2-405"><a href="#cb2-405" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-406"><a href="#cb2-406" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;h1&gt;How to Calculate the MRP&lt;/h1&gt;</span></span>
<span id="cb2-407"><a href="#cb2-407" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-408"><a href="#cb2-408" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;div id="chart_div"&gt;&lt;/div&gt;</span></span>
<span id="cb2-409"><a href="#cb2-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-410"><a href="#cb2-410" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/body&gt;</span></span>
<span id="cb2-411"><a href="#cb2-411" aria-hidden="true" tabindex="-1"></a><span class="in">&lt;/html&gt;</span></span>
<span id="cb2-412"><a href="#cb2-412" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb2-413"><a href="#cb2-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-414"><a href="#cb2-414" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">"text/javascript"</span><span class="kw">&gt;</span></span>
<span id="cb2-415"><a href="#cb2-415" aria-hidden="true" tabindex="-1"></a>    google<span class="op">.</span><span class="at">charts</span><span class="op">.</span><span class="fu">load</span>(<span class="st">'current'</span><span class="op">,</span> { <span class="dt">packages</span><span class="op">:</span> [<span class="st">'orgchart'</span>] })<span class="op">;</span></span>
<span id="cb2-416"><a href="#cb2-416" aria-hidden="true" tabindex="-1"></a>    google<span class="op">.</span><span class="at">charts</span><span class="op">.</span><span class="fu">setOnLoadCallback</span>(drawChart)<span class="op">;</span></span>
<span id="cb2-417"><a href="#cb2-417" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-418"><a href="#cb2-418" aria-hidden="true" tabindex="-1"></a>    <span class="kw">function</span> <span class="fu">drawChart</span>() {</span>
<span id="cb2-419"><a href="#cb2-419" aria-hidden="true" tabindex="-1"></a>        <span class="kw">var</span> data <span class="op">=</span> <span class="kw">new</span> google<span class="op">.</span><span class="at">visualization</span><span class="op">.</span><span class="fu">DataTable</span>()<span class="op">;</span></span>
<span id="cb2-420"><a href="#cb2-420" aria-hidden="true" tabindex="-1"></a>        data<span class="op">.</span><span class="fu">addColumn</span>(<span class="st">'string'</span><span class="op">,</span> <span class="st">'Task'</span>)<span class="op">;</span></span>
<span id="cb2-421"><a href="#cb2-421" aria-hidden="true" tabindex="-1"></a>        data<span class="op">.</span><span class="fu">addColumn</span>(<span class="st">'string'</span><span class="op">,</span> <span class="st">'Parent'</span>)<span class="op">;</span></span>
<span id="cb2-422"><a href="#cb2-422" aria-hidden="true" tabindex="-1"></a>        data<span class="op">.</span><span class="fu">addColumn</span>(<span class="st">'string'</span><span class="op">,</span> <span class="st">'ToolTip'</span>)<span class="op">;</span></span>
<span id="cb2-423"><a href="#cb2-423" aria-hidden="true" tabindex="-1"></a>        data<span class="op">.</span><span class="fu">addRows</span>([</span>
<span id="cb2-424"><a href="#cb2-424" aria-hidden="true" tabindex="-1"></a>            [{ <span class="dt">v</span><span class="op">:</span> <span class="st">'MRP'</span><span class="op">,</span> <span class="dt">f</span><span class="op">:</span> <span class="st">'&lt;a href="#build-mrp"&gt;Build MRP Plan&lt;/a&gt;'</span> }<span class="op">,</span> <span class="st">''</span><span class="op">,</span> <span class="st">'Final Calculation'</span>]<span class="op">,</span></span>
<span id="cb2-425"><a href="#cb2-425" aria-hidden="true" tabindex="-1"></a>            [{ <span class="dt">v</span><span class="op">:</span> <span class="st">'Gross Requirement'</span><span class="op">,</span> <span class="dt">f</span><span class="op">:</span> <span class="st">'&lt;a href="#gross-requirement"&gt;Gross Requirement&lt;/a&gt;'</span> }<span class="op">,</span> <span class="st">'MRP'</span><span class="op">,</span> <span class="st">'Step 2: Calculate Gross Requirement'</span>]<span class="op">,</span></span>
<span id="cb2-426"><a href="#cb2-426" aria-hidden="true" tabindex="-1"></a>            [{ <span class="dt">v</span><span class="op">:</span> <span class="st">'Safety Stock'</span><span class="op">,</span> <span class="dt">f</span><span class="op">:</span> <span class="st">'&lt;a href="#safety-stock"&gt;Safety Stock&lt;/a&gt;'</span> }<span class="op">,</span> <span class="st">'MRP'</span><span class="op">,</span> <span class="st">'Step 1: Determine Safety Stock'</span>]<span class="op">,</span></span>
<span id="cb2-427"><a href="#cb2-427" aria-hidden="true" tabindex="-1"></a>            [{ <span class="dt">v</span><span class="op">:</span> <span class="st">'Demand Forecast'</span><span class="op">,</span> <span class="dt">f</span><span class="op">:</span> <span class="st">'&lt;a href="#predicted-demand"&gt;Demand Forecast&lt;/a&gt;'</span> }<span class="op">,</span> <span class="st">'Safety Stock'</span><span class="op">,</span> <span class="st">'Predictive Demand'</span>]<span class="op">,</span></span>
<span id="cb2-428"><a href="#cb2-428" aria-hidden="true" tabindex="-1"></a>            [{ <span class="dt">v</span><span class="op">:</span> <span class="st">'Lead Time'</span><span class="op">,</span> <span class="dt">f</span><span class="op">:</span> <span class="st">'&lt;a href="#determine-lead-time"&gt;Lead Time&lt;/a&gt;'</span> }<span class="op">,</span> <span class="st">'Safety Stock'</span><span class="op">,</span> <span class="st">'Time to Procure'</span>]<span class="op">,</span></span>
<span id="cb2-429"><a href="#cb2-429" aria-hidden="true" tabindex="-1"></a>            [{ <span class="dt">v</span><span class="op">:</span> <span class="st">'BOM (Bill of Material)'</span><span class="op">,</span> <span class="dt">f</span><span class="op">:</span> <span class="st">'&lt;a href="#bom"&gt;BOM (Bill of Material)&lt;/a&gt;'</span> }<span class="op">,</span> <span class="st">'Gross Requirement'</span><span class="op">,</span> <span class="st">'Material Breakdown'</span>]<span class="op">,</span></span>
<span id="cb2-430"><a href="#cb2-430" aria-hidden="true" tabindex="-1"></a>            [{ <span class="dt">v</span><span class="op">:</span> <span class="st">'Scheduled Receipts'</span><span class="op">,</span> <span class="dt">f</span><span class="op">:</span> <span class="st">'&lt;a href="#scheduled-receipts"&gt;Scheduled Receipts&lt;/a&gt;'</span> }<span class="op">,</span> <span class="st">'Gross Requirement'</span><span class="op">,</span> <span class="st">'Expected Inventory'</span>]<span class="op">,</span></span>
<span id="cb2-431"><a href="#cb2-431" aria-hidden="true" tabindex="-1"></a>            [{ <span class="dt">v</span><span class="op">:</span> <span class="st">'On-Hand Inventory'</span><span class="op">,</span> <span class="dt">f</span><span class="op">:</span> <span class="st">'&lt;a href="#on-hand-inventory"&gt;On-Hand Inventory&lt;/a&gt;'</span> }<span class="op">,</span> <span class="st">'Gross Requirement'</span><span class="op">,</span> <span class="st">'Current Stock'</span>]</span>
<span id="cb2-432"><a href="#cb2-432" aria-hidden="true" tabindex="-1"></a>        ])<span class="op">;</span></span>
<span id="cb2-433"><a href="#cb2-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-434"><a href="#cb2-434" aria-hidden="true" tabindex="-1"></a>        <span class="kw">var</span> chart <span class="op">=</span> <span class="kw">new</span> google<span class="op">.</span><span class="at">visualization</span><span class="op">.</span><span class="fu">OrgChart</span>(<span class="bu">document</span><span class="op">.</span><span class="fu">getElementById</span>(<span class="st">'chart_div'</span>))<span class="op">;</span></span>
<span id="cb2-435"><a href="#cb2-435" aria-hidden="true" tabindex="-1"></a>        chart<span class="op">.</span><span class="fu">draw</span>(data<span class="op">,</span> {</span>
<span id="cb2-436"><a href="#cb2-436" aria-hidden="true" tabindex="-1"></a>            <span class="dt">allowHtml</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb2-437"><a href="#cb2-437" aria-hidden="true" tabindex="-1"></a>            <span class="dt">nodes</span><span class="op">:</span> {</span>
<span id="cb2-438"><a href="#cb2-438" aria-hidden="true" tabindex="-1"></a>                <span class="st">'MRP'</span><span class="op">:</span> { <span class="st">'color'</span><span class="op">:</span> <span class="st">'#1E90FF'</span> }<span class="op">,</span></span>
<span id="cb2-439"><a href="#cb2-439" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Gross Requirement'</span><span class="op">:</span> { <span class="st">'color'</span><span class="op">:</span> <span class="st">'#FF4500'</span> }<span class="op">,</span></span>
<span id="cb2-440"><a href="#cb2-440" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Safety Stock'</span><span class="op">:</span> { <span class="st">'color'</span><span class="op">:</span> <span class="st">'#32CD32'</span> }<span class="op">,</span></span>
<span id="cb2-441"><a href="#cb2-441" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Demand Forecast'</span><span class="op">:</span> { <span class="st">'color'</span><span class="op">:</span> <span class="st">'#FFD700'</span> }<span class="op">,</span></span>
<span id="cb2-442"><a href="#cb2-442" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Lead Time'</span><span class="op">:</span> { <span class="st">'color'</span><span class="op">:</span> <span class="st">'#FF69B4'</span> }<span class="op">,</span></span>
<span id="cb2-443"><a href="#cb2-443" aria-hidden="true" tabindex="-1"></a>                <span class="st">'BOM (Bill of Material)'</span><span class="op">:</span> { <span class="st">'color'</span><span class="op">:</span> <span class="st">'#6A5ACD'</span> }<span class="op">,</span></span>
<span id="cb2-444"><a href="#cb2-444" aria-hidden="true" tabindex="-1"></a>                <span class="st">'Scheduled Receipts'</span><span class="op">:</span> { <span class="st">'color'</span><span class="op">:</span> <span class="st">'#00FA9A'</span> }<span class="op">,</span></span>
<span id="cb2-445"><a href="#cb2-445" aria-hidden="true" tabindex="-1"></a>                <span class="st">'On-Hand Inventory'</span><span class="op">:</span> { <span class="st">'color'</span><span class="op">:</span> <span class="st">'#FFB6C1'</span> }</span>
<span id="cb2-446"><a href="#cb2-446" aria-hidden="true" tabindex="-1"></a>            }<span class="op">,</span></span>
<span id="cb2-447"><a href="#cb2-447" aria-hidden="true" tabindex="-1"></a>            <span class="st">'size'</span><span class="op">:</span> <span class="st">'medium'</span><span class="op">,</span></span>
<span id="cb2-448"><a href="#cb2-448" aria-hidden="true" tabindex="-1"></a>            <span class="st">'allowCollapse'</span><span class="op">:</span> <span class="kw">true</span></span>
<span id="cb2-449"><a href="#cb2-449" aria-hidden="true" tabindex="-1"></a>        })<span class="op">;</span></span>
<span id="cb2-450"><a href="#cb2-450" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-451"><a href="#cb2-451" aria-hidden="true" tabindex="-1"></a><span class="kw">&lt;/script&gt;</span></span>
<span id="cb2-452"><a href="#cb2-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-453"><a href="#cb2-453" aria-hidden="true" tabindex="-1"></a><span class="fu">### Predicted demand {#predicted-demand}</span></span>
<span id="cb2-454"><a href="#cb2-454" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-455"><a href="#cb2-455" aria-hidden="true" tabindex="-1"></a>Đầu tiên, vẫn là dự đoán nhu cầu của khách hàng trong tương lai. Tùy vào kế hoạch bạn xây dựng, có thể là 1 tháng, 3 tháng hoặc 6 tháng ... mà chọn. Như đã đề cập ở trên, đây là dữ liệu quan trọng làm đầu vào cho **MRP** và cũng là cơ sở để xác định *Safety stock*. </span>
<span id="cb2-456"><a href="#cb2-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-457"><a href="#cb2-457" aria-hidden="true" tabindex="-1"></a><span class="fu">### Gross requirement {#gross-requirement}</span></span>
<span id="cb2-458"><a href="#cb2-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-459"><a href="#cb2-459" aria-hidden="true" tabindex="-1"></a>Về định nghĩa, *Gross requirement* là tổng nhu cầu cho một vật liệu hoặc linh kiện cụ thể trong một khoảng thời gian nhất định, mà không xem xét bất kỳ tồn kho có sẵn hay các khoản thu nhập đã lên lịch.</span>
<span id="cb2-460"><a href="#cb2-460" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-461"><a href="#cb2-461" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb2-462"><a href="#cb2-462" aria-hidden="true" tabindex="-1"></a>\text{Gross Requirement} = \text{Total Demand} \times \text{Component Quantity per product}</span>
<span id="cb2-463"><a href="#cb2-463" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb2-464"><a href="#cb2-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-465"><a href="#cb2-465" aria-hidden="true" tabindex="-1"></a><span class="fu">### Scheduled Receipts {#scheduled-receipts}</span></span>
<span id="cb2-466"><a href="#cb2-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-467"><a href="#cb2-467" aria-hidden="true" tabindex="-1"></a>*Scheduled Receipts* là thuật ngữ dùng để chỉ các đơn hàng hoặc lô hàng đã được đặt và dự kiến sẽ được nhận trong một khoảng thời gian nhất định. Ví dụ bạn đang làm kế hoạch nhập vật liệu **A** cho tháng 9 thì trước đó bạn đã đặt hàng vật liệu **A** là 1000 cái thì *scheduled receipts* sẽ bằng 1000. Do đó giả sử đơn giản là bạn đang đơn hàng 2000 cái thì bạn chỉ cần đặt hàng 1000 cái nữa vào tháng 9.</span>
<span id="cb2-468"><a href="#cb2-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-469"><a href="#cb2-469" aria-hidden="true" tabindex="-1"></a>Dữ liệu để tính toán sẽ thường lấy từ các *Purchase Orders* từ phòng thu mua hoặc *Orders* từ các nhà phân phối.</span>
<span id="cb2-470"><a href="#cb2-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-471"><a href="#cb2-471" aria-hidden="true" tabindex="-1"></a><span class="fu">### On-Hand Inventory {#on-hand-inventory}</span></span>
<span id="cb2-472"><a href="#cb2-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-473"><a href="#cb2-473" aria-hidden="true" tabindex="-1"></a>*On-hand inventory* nghĩa là lượng hàng hóa còn tồn đọng trong kho, cửa hàng của bạn tại một thời điểm nào đó. Dữ liệu này dễ dàng lấy được từ các báo cáo theo ngày, theo tuần ở các cửa hàng, kho.</span>
<span id="cb2-474"><a href="#cb2-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-475"><a href="#cb2-475" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb2-476"><a href="#cb2-476" aria-hidden="true" tabindex="-1"></a>\text{On-Hand Inventory} = \text{Tồn kho đầu kỳ} + \text{Nhập kho} - \text{Xuất kho}</span>
<span id="cb2-477"><a href="#cb2-477" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb2-478"><a href="#cb2-478" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-479"><a href="#cb2-479" aria-hidden="true" tabindex="-1"></a><span class="fu">### Net Requirements:</span></span>
<span id="cb2-480"><a href="#cb2-480" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-481"><a href="#cb2-481" aria-hidden="true" tabindex="-1"></a>*Net requirement* nghĩa là lượng hàng hóa còn thiếu để thỏa mãn hết tất cả nhu cầu trong tương lai mà mình đã dự đoán. Công thức tính cũng đơn giản như dưới đây. </span>
<span id="cb2-482"><a href="#cb2-482" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-483"><a href="#cb2-483" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb2-484"><a href="#cb2-484" aria-hidden="true" tabindex="-1"></a>\text{Net Requirement} = \text{Gross Requirement}−\text{Scheduled Receipts}−\text{On-Hand Inventory}</span>
<span id="cb2-485"><a href="#cb2-485" aria-hidden="true" tabindex="-1"></a>$$</span>
<span id="cb2-486"><a href="#cb2-486" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-487"><a href="#cb2-487" aria-hidden="true" tabindex="-1"></a>Giả sử, bạn dự đoán tháng sau có 1000 đơn hàng, bạn đã có 200 *On-hand inventory* và 300 *Scheduled receipt* vậy thì bạn chỉ cần đặt thêm nguyên vật liệu để sản xuất đủ 500 đơn hàng nữa là xong. Đó cũng chính là số lượng cần xác định trong kế hoạch **MRP**.</span>
<span id="cb2-488"><a href="#cb2-488" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-489"><a href="#cb2-489" aria-hidden="true" tabindex="-1"></a>Tiếp theo ta sẽ tìm hiểu thêm về khái niệm *Safety stock* và *reorder point* ở trang <span class="co">[</span><span class="ot">Thời gian xây dựng MRP</span><span class="co">](Time.qmd)</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">© Copyright 2024, Loc cao</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">Built with <a href="https://quarto.org/">Quarto</a></div>
  </div>
</footer>



</body></html>